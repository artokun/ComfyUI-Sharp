<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ComfyUI-Sharp - Test Results</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f1923;
            color: #e6edf3;
            min-height: 100vh;
            line-height: 1.6;
        }

        header {
            background: #162033;
            padding: 1.25rem 2rem;
            border-bottom: 1px solid #243656;
        }

        body.in-iframe header {
            display: none;
        }

        body.in-iframe .container {
            padding-top: 1.25rem;
        }

        body.in-iframe .summary-meta {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        h1 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        h1 a {
            color: #e6edf3;
            text-decoration: none;
        }

        h1 a:hover { color: #58a6ff; }

        .meta-chips {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .meta-chip {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0.2rem 0.6rem;
            background: #1c2d44;
            border: 1px solid #243656;
            border-radius: 2rem;
            font-size: 0.75rem;
            color: #8ba3c1;
        }

        .meta-chip svg {
            width: 12px;
            height: 12px;
            fill: currentColor;
            flex-shrink: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Summary Section */
        .summary {
            background: #162033;
            border: 1px solid #243656;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .progress-wrapper {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .progress-bar {
            background: #1c2d44;
            border-radius: 6px;
            height: 10px;
            overflow: hidden;
            flex: 1;
        }

        .progress-fill {
            background: #3fb950;
            height: 100%;
            border-radius: 6px;
            transition: width 0.3s ease;
        }

        .progress-fill.has-failures {
            background: linear-gradient(90deg, #3fb950 0%, #3fb950 0.0%, #f85149 0.0%, #f85149 100%);
            width: 100% !important;
            border-radius: 6px;
        }

        .progress-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: #8ba3c1;
            white-space: nowrap;
            min-width: 3.5rem;
            text-align: right;
        }

        .stats {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .stat-badge {
            padding: 0.35rem 0.75rem;
            border-radius: 2rem;
            font-weight: 600;
            font-size: 0.8rem;
        }

        .stat-pass {
            background: rgba(63, 185, 80, 0.15);
            color: #3fb950;
        }

        .stat-fail {
            background: rgba(248, 81, 73, 0.15);
            color: #f85149;
        }

        .stat-total {
            color: #8ba3c1;
            font-size: 0.85rem;
        }

        /* Failed Section */
        .failed-section {
            background: rgba(248, 81, 73, 0.08);
            border: 1px solid rgba(248, 81, 73, 0.3);
            border-radius: 8px;
            padding: 1.25rem;
            margin-bottom: 2rem;
        }

        .failed-section h2 {
            color: #f85149;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .failed-item {
            background: #162033;
            border: 1px solid #243656;
            border-radius: 6px;
            padding: 1rem;
            margin-bottom: 0.5rem;
        }

        .failed-item:last-child {
            margin-bottom: 0;
        }

        .failed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .failed-name {
            font-weight: 600;
            color: #f85149;
        }

        .failed-duration {
            color: #8ba3c1;
            font-size: 0.8rem;
        }

        .failed-error {
            background: #0f1923;
            border: 1px solid #243656;
            padding: 0.75rem;
            border-radius: 6px;
            font-family: 'SFMono-Regular', 'Menlo', 'Monaco', monospace;
            font-size: 0.8rem;
            color: #d29922;
            margin-bottom: 0.5rem;
        }

        .log-link {
            color: #58a6ff;
            text-decoration: none;
            font-size: 0.8rem;
        }

        .log-link:hover {
            text-decoration: underline;
        }

        /* Workflow Grid */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.25rem;
        }

        .section-title {
            font-size: 0.8rem;
            color: #8ba3c1;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.06em;
        }

        .view-controls {
            display: flex;
            gap: 0;
            align-items: center;
            border: 1px solid #243656;
            border-radius: 6px;
            overflow: hidden;
        }

        .view-btn {
            background: #1c2d44;
            color: #8ba3c1;
            border: none;
            border-right: 1px solid #243656;
            padding: 0.3rem 0.75rem;
            cursor: pointer;
            font-size: 0.75rem;
            font-weight: 500;
            transition: all 0.15s;
        }

        .view-btn:last-child {
            border-right: none;
        }

        .view-btn:hover {
            background: #243656;
            color: #e6edf3;
        }

        .view-btn.active {
            background: #58a6ff;
            color: #fff;
        }

        .workflow-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }

        .workflow-grid.view-list {
            grid-template-columns: 1fr;
            gap: 0;
        }

        .workflow-grid.view-list .workflow-card {
            border-radius: 0;
            border-bottom: 1px solid #243656;
        }

        .workflow-grid.view-list .workflow-card:first-child {
            border-radius: 8px 8px 0 0;
        }

        .workflow-grid.view-list .workflow-card:last-child {
            border-radius: 0 0 8px 8px;
            border-bottom: none;
        }

        .workflow-grid.view-list .workflow-card:only-child {
            border-radius: 8px;
        }

        .workflow-grid.view-list .workflow-screenshot {
            width: 100%;
            height: auto;
            aspect-ratio: auto;
        }

        .workflow-grid.view-list .workflow-info {
            border-top: 1px solid #243656;
            padding: 0.75rem 1rem;
        }

        .workflow-grid.view-list .workflow-name {
            max-width: none;
            font-size: 0.9rem;
        }

        .workflow-card {
            background: #162033;
            border: 1px solid #243656;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.15s, border-color 0.15s;
        }

        .workflow-card:hover {
            transform: translateY(-1px);
            border-color: #4a6282;
        }

        .workflow-card.clickable {
            cursor: pointer;
        }

        .workflow-card.failed {
            border-color: #f85149;
        }

        .workflow-card.failed:hover {
            border-color: #f85149;
        }

        .workflow-screenshot {
            width: 100%;
            aspect-ratio: 16/10;
            object-fit: cover;
            background: #0f1923;
            display: block;
        }

        .workflow-screenshot.placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a6282;
            font-size: 0.8rem;
        }

        .workflow-info {
            padding: 0.75rem 1rem;
            border-top: 1px solid #243656;
        }

        .workflow-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.25rem;
        }

        .workflow-name {
            font-weight: 500;
            font-size: 0.85rem;
            color: #e6edf3;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 65%;
        }

        .workflow-badge {
            padding: 0.15rem 0.5rem;
            border-radius: 2rem;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.03em;
            flex-shrink: 0;
        }

        .workflow-badge.pass {
            background: rgba(63, 185, 80, 0.15);
            color: #3fb950;
        }

        .workflow-badge.fail {
            background: rgba(248, 81, 73, 0.15);
            color: #f85149;
        }

        .workflow-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.75rem;
            color: #4a6282;
        }

        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(1, 4, 9, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: flex-start;
            padding: 2rem;
            overflow-y: auto;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            display: flex;
            flex-direction: column;
            max-width: 1200px;
            width: 100%;
            margin: auto;
        }

        .lightbox-content img {
            max-width: 100%;
            max-height: 60vh;
            object-fit: contain;
            border-radius: 8px;
            border: 1px solid #243656;
            align-self: center;
        }

        .lightbox-close {
            position: fixed;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            color: #e6edf3;
            cursor: pointer;
            opacity: 0.6;
            background: none;
            border: none;
            z-index: 1001;
        }

        .lightbox-close:hover {
            opacity: 1;
        }

        .lightbox-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.25rem;
            background: #162033;
            border: 1px solid #243656;
            border-radius: 8px;
            margin-top: 1rem;
        }

        .lightbox-title {
            font-size: 1rem;
            font-weight: 600;
            color: #e6edf3;
        }

        .lightbox-hardware {
            display: block;
            font-size: 0.75rem;
            color: #8ba3c1;
            margin-top: 0.25rem;
        }

        .lightbox-meta {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .lightbox-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 2rem;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .lightbox-badge.pass {
            background: rgba(63, 185, 80, 0.15);
            color: #3fb950;
        }

        .lightbox-badge.fail {
            background: rgba(248, 81, 73, 0.15);
            color: #f85149;
        }

        .lightbox-duration {
            color: #8ba3c1;
            font-size: 0.85rem;
        }

        .lightbox-log {
            background: #0f1923;
            border: 1px solid #243656;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'SFMono-Regular', 'Menlo', 'Monaco', monospace;
            font-size: 0.8rem;
            line-height: 1.5;
            white-space: pre-wrap;
            word-break: break-all;
            color: #8ba3c1;
        }

        .lightbox-log::-webkit-scrollbar {
            width: 8px;
        }

        .lightbox-log::-webkit-scrollbar-track {
            background: #162033;
            border-radius: 4px;
        }

        .lightbox-log::-webkit-scrollbar-thumb {
            background: #243656;
            border-radius: 4px;
        }

        .lightbox-log::-webkit-scrollbar-thumb:hover {
            background: #4a6282;
        }

        /* Resource Graph */
        .resource-graph {
            display: none;
            margin-top: 1rem;
            background: #162033;
            border: 1px solid #243656;
            border-radius: 8px;
            padding: 1rem;
        }

        .resource-graph.active {
            display: block;
        }

        .resource-graph-title {
            font-size: 0.8rem;
            color: #8ba3c1;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .resource-graph canvas {
            width: 100%;
            height: 120px;
            cursor: crosshair;
        }

        .resource-legend {
            display: flex;
            gap: 1rem;
            margin-top: 0.5rem;
            font-size: 0.75rem;
            color: #8ba3c1;
        }

        .resource-legend span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .resource-legend .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .resource-legend .ram { background: #3fb950; }
        .resource-legend .gpu { background: #d29922; }

        /* Video Player */
        .video-player {
            display: none;
            margin-top: 1rem;
            background: #162033;
            border: 1px solid #243656;
            border-radius: 8px;
            padding: 1rem;
        }

        .video-player.active {
            display: block;
        }

        .video-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .video-play-btn {
            background: #58a6ff;
            color: #fff;
            border: none;
            padding: 0.4rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .video-play-btn:hover {
            background: #79b8ff;
        }

        .video-frame-counter {
            color: #8ba3c1;
            font-size: 0.8rem;
        }

        .video-slider-container {
            padding: 15px 0;
        }

        /* noUiSlider customization */
        #video-slider {
            height: 6px;
            background: #1c2d44;
            border: none;
            box-shadow: none;
        }

        #video-slider .noUi-connect {
            background: #58a6ff;
        }

        #video-slider .noUi-handle {
            width: 16px;
            height: 16px;
            background: #58a6ff;
            border: none;
            border-radius: 50%;
            box-shadow: none;
            top: -5px;
            right: -8px;
            cursor: pointer;
        }

        #video-slider .noUi-handle:before,
        #video-slider .noUi-handle:after {
            display: none;
        }

        /* Pips (tick marks) */
        .noUi-pips {
            color: #4a6282;
        }

        .noUi-marker {
            background: #243656;
            width: 2px;
        }

        .noUi-marker-large {
            height: 12px;
        }

        .noUi-value {
            display: none;
        }

        /* Models Section */
        .models-section {
            margin-top: 2rem;
            margin-bottom: 2rem;
        }

        .models-total {
            font-size: 0.8rem;
            color: #8ba3c1;
        }

        .models-folder {
            background: #162033;
            border: 1px solid #243656;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            overflow: hidden;
        }

        .models-folder-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            cursor: pointer;
            user-select: none;
            list-style: none;
        }

        .models-folder-header::-webkit-details-marker {
            display: none;
        }

        .models-folder-header::before {
            content: '\25B6';
            font-size: 0.6rem;
            color: #4a6282;
            margin-right: 0.5rem;
            transition: transform 0.15s;
        }

        .models-folder[open] > .models-folder-header::before {
            transform: rotate(90deg);
        }

        .models-folder-name {
            font-family: 'SFMono-Regular', 'Menlo', 'Monaco', monospace;
            font-size: 0.85rem;
            font-weight: 600;
            color: #58a6ff;
        }

        .models-folder-meta {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .models-folder-size {
            font-size: 0.8rem;
            font-weight: 600;
            color: #8ba3c1;
        }

        .models-source-link {
            font-size: 0.75rem;
            color: #3fb950;
            text-decoration: none;
            padding: 0.15rem 0.5rem;
            background: rgba(63, 185, 80, 0.1);
            border: 1px solid rgba(63, 185, 80, 0.2);
            border-radius: 2rem;
        }

        .models-source-link:hover {
            background: rgba(63, 185, 80, 0.2);
            text-decoration: none;
        }

        .models-file-list {
            border-top: 1px solid #243656;
            padding: 0.25rem 0;
        }

        .models-file {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.35rem 1rem 0.35rem 2rem;
            font-size: 0.8rem;
        }

        .models-file:hover {
            background: rgba(88, 166, 255, 0.05);
        }

        .models-file-path {
            font-family: 'SFMono-Regular', 'Menlo', 'Monaco', monospace;
            color: #8ba3c1;
            word-break: break-all;
        }

        .models-file-size {
            color: #4a6282;
            white-space: nowrap;
            margin-left: 1rem;
            flex-shrink: 0;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2.5rem;
            color: #4a6282;
            font-size: 0.8rem;
        }

        footer a {
            color: #58a6ff;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .workflow-grid {
                grid-template-columns: 1fr !important;
            }

            .workflow-grid.view-list .workflow-card {
                grid-template-columns: 1fr;
            }

            .workflow-grid.view-list .workflow-screenshot {
                width: 100%;
                height: auto;
                aspect-ratio: 16/10;
            }

            .stats {
                flex-direction: column;
                align-items: flex-start;
            }

            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .container {
                padding: 1rem;
            }
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/nouislider@15/dist/nouislider.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/nouislider@15/dist/nouislider.min.js"></script>
</head>
<body>
    <header>
        <h1><a href="https://github.com/PozzettiAndrea/ComfyUI-Sharp">ComfyUI-Sharp</a> Test Results</h1>
        <div class="meta-chips">
            <span class="meta-chip"><svg viewBox="0 0 16 16"><path d="M8 0a8 8 0 110 16A8 8 0 018 0zm.5 4.5a.5.5 0 00-1 0v3.793L5.854 9.854a.5.5 0 10.708.708l1.853-1.854a.5.5 0 00.085-.094V4.5z"/></svg> 2026-02-16 15:45 UTC</span> <span class="meta-chip"><svg viewBox="0 0 16 16"><path d="M2.5 4a.5.5 0 100 1 .5.5 0 000-1zM4 4.5a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7a.5.5 0 01-.5-.5zM2.5 7a.5.5 0 100 1 .5.5 0 000-1zM4 7.5a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7A.5.5 0 014 7.5zM2.5 10a.5.5 0 100 1 .5.5 0 000-1zM4 10.5a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7a.5.5 0 01-.5-.5z"/></svg> Linux-6.6.87.2-microsoft-standard-WSL2-x86_64-with-glibc2.39</span> <span class="meta-chip"><svg viewBox="0 0 16 16"><path d="M5 0a.5.5 0 01.5.5V2h1V.5a.5.5 0 011 0V2h1V.5a.5.5 0 011 0V2h.5A2.5 2.5 0 0112.5 4.5H14v1h-1.5v1H14v1h-1.5v1H14v1h-1.5A2.5 2.5 0 0110 12h-.5v1.5a.5.5 0 01-1 0V12h-1v1.5a.5.5 0 01-1 0V12H6v1.5a.5.5 0 01-1 0V12h-.5A2.5 2.5 0 012 9.5H.5v-1H2v-1H.5v-1H2v-1H.5v-1H2A2.5 2.5 0 014.5 2V.5A.5.5 0 015 0zm-.5 4A1.5 1.5 0 003 5.5v4A1.5 1.5 0 004.5 11h6a1.5 1.5 0 001.5-1.5v-4A1.5 1.5 0 0010.5 4h-6z"/></svg> Intel Xeon E3-12xx v2 (Ivy Bridge, IBRS)</span> <span class="meta-chip"><svg viewBox="0 0 16 16"><path d="M4 8a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm7.5-1.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM3 2a2 2 0 00-2 2v8a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H3z"/></svg> NVIDIA RTX A4000</span>
        </div>
    </header>

    <div class="container">
        <div class="summary">
            <div class="progress-wrapper">
                <div class="progress-bar">
                    <div class="progress-fill has-failures" style="width: 0.0%"></div>
                </div>
                <span class="progress-label">0.0%</span>
            </div>
            <div class="stats">
                <span class="stat-badge stat-pass">0 passed</span>
                <span class="stat-badge stat-fail">3 failed</span>
                <span class="stat-total">0/3 tests</span>
            </div>
        </div>

        <div class="section-header">
            <h2 class="section-title">Workflows</h2>
            <div class="view-controls">
                <button class="view-btn active" onclick="setView('grid')">Grid</button>
                <button class="view-btn" onclick="setView('list')">List</button>
            </div>
        </div>
        <div class="workflow-grid" id="workflow-grid">
            
            <div class="workflow-card clickable failed" onclick="openLightboxByName('pano')">
                <div class="workflow-screenshot placeholder">No screenshot</div>
                <div class="workflow-info">
                    <div class="workflow-header">
                        <span class="workflow-name" title="pano">pano</span>
                        <span class="workflow-badge fail">fail</span>
                    </div>
                    <div class="workflow-meta">
                        <span>316.15s</span>
                    </div>
                </div>
            </div>
        

            <div class="workflow-card clickable failed" onclick="openLightboxByName('sharp_basic')">
                <div class="workflow-screenshot placeholder">No screenshot</div>
                <div class="workflow-info">
                    <div class="workflow-header">
                        <span class="workflow-name" title="sharp_basic">sharp_basic</span>
                        <span class="workflow-badge fail">fail</span>
                    </div>
                    <div class="workflow-meta">
                        <span>64.86s</span>
                    </div>
                </div>
            </div>
        

            <div class="workflow-card clickable failed" onclick="openLightboxByName('sharp_exif')">
                <div class="workflow-screenshot placeholder">No screenshot</div>
                <div class="workflow-info">
                    <div class="workflow-header">
                        <span class="workflow-name" title="sharp_exif">sharp_exif</span>
                        <span class="workflow-badge fail">fail</span>
                    </div>
                    <div class="workflow-meta">
                        <span>75.25s</span>
                    </div>
                </div>
            </div>
        
        </div>

        
        <div class="failed-section">
            <h2>Failed Tests</h2>
            
            <div class="failed-item">
                <div class="failed-header">
                    <span class="failed-name">pano</span>
                    <span class="failed-duration">316.15s</span>
                </div>
                <div class="failed-error">Workflow execution failed: {&#x27;prompt_id&#x27;: &#x27;24cb467d-72a6-4215-9636-8bfc04f39e37&#x27;, &#x27;node_id&#x27;: &#x27;11&#x27;, &#x27;node_type&#x27;: &#x27;SharpPredictDepth&#x27;, &#x27;executed&#x27;: [&#x27;8&#x27;, &#x27;9&#x27;, &#x27;6&#x27;, &#x27;7&#x27;], &#x27;exception_message&#x27;: &#x27;Input type (float) and bias type (c10::BFloat16) should be the same\n&#x27;, &#x27;exception_type&#x27;: &#x27;RuntimeError&#x27;, &#x27;traceback&#x27;: [&#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 530, in execute\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 334, in get_output_data\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 308, in _async_map_node_over_list\n    await process_inputs(input_dict, i)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 296, in process_inputs\n    result = f(**inputs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/utils/_contextlib.py&quot;, line 124, in decorate_context\n    return func(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict_depth.py&quot;, line 157, in predict_depth\n    monodepth_output, depth_decoder_features = predictor.encode(image_resized_pt)\n                                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/predictor.py&quot;, line 112, in encode\n    monodepth_output = self.monodepth_model(image)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/monodepth.py&quot;, line 197, in forward\n    encoder_output = self.monodepth_predictor.encoder(inputs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/spn_encoder.py&quot;, line 249, in forward\n    x_pyramid_encodings, patch_intermediate_features = self.patch_encoder(x_pyramid_patches)\n                                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/vit_encoder.py&quot;, line 70, in forward\n    x = self.patch_embed(input_tensor)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/timm/layers/patch_embed.py&quot;, line 136, in forward\n    x = self.proj(x)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py&quot;, line 553, in forward\n    return self._conv_forward(input, self.weight, self.bias)\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py&quot;, line 548, in _conv_forward\n    return F.conv2d(\n           ~~~~~~~~^\n        input, weight, bias, self.stride, self.padding, self.dilation, self.groups\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n&#x27;], &#x27;current_inputs&#x27;: {&#x27;model&#x27;: [&quot;{&#x27;model_path&#x27;: &#x27;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/models/sharp/sharp_2572gikvuh.pt&#x27;, &#x27;dtype&#x27;: torch.bfloat16}&quot;], &#x27;image&#x27;: [&#x27;tensor([[[[0.1753, 0.1119, 0.1057],\n          [0.1854, 0.1170, 0.1077],\n          [0.1868, 0.1151, 0.1028],\n          ...,\n          [0.1098, 0.0749, 0.0639],\n          [0.1088, 0.0708, 0.0617],\n          [0.1095, 0.0718, 0.0630]],\n\n         [[0.1713, 0.1091, 0.1027],\n          [0.1894, 0.1201, 0.1097],\n          [0.1887, 0.1179, 0.1045],\n          ...,\n          [0.0992, 0.0622, 0.0539],\n          [0.0983, 0.0591, 0.0525],\n          [0.1007, 0.0635, 0.0555]],\n\n         [[0.1661, 0.1060, 0.1002],\n          [0.1864, 0.1179, 0.1070],\n          [0.1931, 0.1213, 0.1065],\n          ...,\n          [0.0919, 0.0533, 0.0471],\n          [0.0905, 0.0517, 0.0459],\n          [0.0913, 0.0534, 0.0461]],\n\n         ...,\n\n         [[0.2313, 0.1777, 0.1414],\n          [0.2374, 0.1830, 0.1450],\n          [0.2445, 0.1907, 0.1515],\n          ...,\n          [0.1972, 0.1422, 0.1108],\n          [0.1985, 0.1428, 0.1119],\n          [0.2045, 0.1465, 0.1167]],\n\n         [[0.2353, 0.1841, 0.1503],\n          [0.2410, 0.1888, 0.1541],\n          [0.2466, 0.1947, 0.1584],\n          ...,\n          [0.2000, 0.1451, 0.1137],\n          [0.2009, 0.1460, 0.1146],\n          [0.2037, 0.1483, 0.1172]],\n\n         [[0.2414, 0.1904, 0.1601],\n          [0.2429, 0.1916, 0.1590],\n          [0.2454, 0.1944, 0.1599],\n          ...,\n          [0.2010, 0.1462, 0.1147],\n          [0.2035, 0.1489, 0.1173],\n          [0.2060, 0.1511, 0.1198]]],\n\n\n        [[[0.1938, 0.1646, 0.1436],\n          [0.1929, 0.1637, 0.1396],\n          [0.1946, 0.1622, 0.1367],\n          ...,\n          [0.1624, 0.1248, 0.1042],\n          [0.1899, 0.1459, 0.1208],\n          [0.2193, 0.1689, 0.1390]],\n\n         [[0.1929, 0.1639, 0.1467],\n          [0.1935, 0.1659, 0.1449],\n          [0.1945, 0.1643, 0.1415],\n          ...,\n          [0.1695, 0.1306, 0.1087],\n          [0.1944, 0.1488, 0.1227],\n          [0.2214, 0.1706, 0.1394]],\n\n         [[0.1884, 0.1612, 0.1467],\n          [0.1930, 0.1656, 0.1485],\n          [0.1950, 0.1664, 0.1471],\n          ...,\n          [0.1730, 0.1328, 0.1101],\n          [0.1960, 0.1498, 0.1226],\n          [0.2207, 0.1706, 0.1377]],\n\n         ...,\n\n         [[0.2149, 0.1339, 0.1143],\n          [0.2263, 0.1384, 0.1191],\n          [0.2324, 0.1389, 0.1204],\n          ...,\n          [0.1607, 0.1215, 0.0918],\n          [0.1601, 0.1212, 0.0938],\n          [0.1586, 0.1205, 0.0935]],\n\n         [[0.2093, 0.1301, 0.1120],\n          [0.2186, 0.1312, 0.1143],\n          [0.2259, 0.1322, 0.1157],\n          ...,\n          [0.1597, 0.1216, 0.0920],\n          [0.1604, 0.1216, 0.0937],\n          [0.1618, 0.1221, 0.0953]],\n\n         [[0.2048, 0.1255, 0.1099],\n          [0.2143, 0.1271, 0.1116],\n          [0.2233, 0.1286, 0.1130],\n          ...,\n          [0.1579, 0.1218, 0.0946],\n          [0.1607, 0.1228, 0.0969],\n          [0.1640, 0.1237, 0.0995]]],\n\n\n        [[[0.2273, 0.1709, 0.1381],\n          [0.2485, 0.1858, 0.1513],\n          [0.2934, 0.2230, 0.1899],\n          ...,\n          [0.4487, 0.2698, 0.1973],\n          [0.5168, 0.3237, 0.2418],\n          [0.5523, 0.3491, 0.2586]],\n\n         [[0.2349, 0.1820, 0.1522],\n          [0.2400, 0.1822, 0.1481],\n          [0.2806, 0.2143, 0.1804],\n          ...,\n          [0.4830, 0.3001, 0.2205],\n          [0.5510, 0.3551, 0.2653],\n          [0.5571, 0.3540, 0.2570]],\n\n         [[0.2382, 0.1888, 0.1614],\n          [0.2475, 0.1933, 0.1622],\n          [0.2718, 0.2103, 0.1767],\n          ...,\n          [0.5174, 0.3322, 0.2443],\n          [0.5579, 0.3624, 0.2657],\n          [0.5600, 0.3562, 0.2536]],\n\n         ...,\n\n         [[0.1884, 0.1437, 0.1064],\n          [0.1774, 0.1338, 0.0981],\n          [0.1760, 0.1305, 0.0951],\n          ...,\n          [0.2402, 0.1853, 0.1433],\n          [0.2392, 0.1843, 0.1423],\n          [0.2370, 0.1821, 0.1423]],\n\n         [[0.1863, 0.1429, 0.1066],\n          [0.1831, 0.1388, 0.1038],\n          [0.1836, 0.1362, 0.1020],\n          ...,\n          [0.2474, 0.1925, 0.1544],\n          [0.2455, 0.1905, 0.1526],\n          [0.2432, 0.1883, 0.1513]],\n\n         [[0.1903, 0.1471, 0.1108],\n          [0.1885, 0.1426, 0.1083],\n          [0.1881, 0.1389, 0.1066],\n          ...,\n          [0.2563, 0.2015, 0.1661],\n          [0.2521, 0.1975, 0.1619],\n          [0.2493, 0.1955, 0.1591]]],\n\n\n        ...,\n\n\n        [[[0.1448, 0.1053, 0.0920],\n          [0.1473, 0.1068, 0.0930],\n          [0.1441, 0.1002, 0.0871],\n          ...,\n          [0.2174, 0.1594, 0.1312],\n          [0.2187, 0.1578, 0.1329],\n          [0.2192, 0.1577, 0.1342]],\n\n         [[0.1384, 0.0991, 0.0836],\n          [0.1466, 0.1066, 0.0913],\n          [0.1475, 0.1042, 0.0903],\n          ...,\n          [0.2182, 0.1590, 0.1335],\n          [0.2195, 0.1580, 0.1345],\n          [0.2197, 0.1590, 0.1355]],\n\n         [[0.1336, 0.0925, 0.0777],\n          [0.1414, 0.0993, 0.0851],\n          [0.1484, 0.1053, 0.0916],\n          ...,\n          [0.2195, 0.1607, 0.1371],\n          [0.2183, 0.1596, 0.1360],\n          [0.2180, 0.1597, 0.1362]],\n\n         ...,\n\n         [[0.1700, 0.1060, 0.0804],\n          [0.1736, 0.1116, 0.0800],\n          [0.1577, 0.0996, 0.0627],\n          ...,\n          [0.0861, 0.0392, 0.0254],\n          [0.0872, 0.0371, 0.0246],\n          [0.0901, 0.0384, 0.0252]],\n\n         [[0.1588, 0.0956, 0.0687],\n          [0.1466, 0.0903, 0.0542],\n          [0.1379, 0.0847, 0.0429],\n          ...,\n          [0.0879, 0.0448, 0.0288],\n          [0.0893, 0.0431, 0.0285],\n          [0.0899, 0.0405, 0.0264]],\n\n         [[0.1345, 0.0769, 0.0465],\n          [0.1327, 0.0782, 0.0407],\n          [0.1360, 0.0801, 0.0418],\n          ...,\n          [0.0852, 0.0468, 0.0287],\n          [0.0890, 0.0458, 0.0295],\n          [0.0903, 0.0439, 0.0285]]],\n\n\n        [[[0.1245, 0.0786, 0.0634],\n          [0.1331, 0.0841, 0.0663],\n          [0.1403, 0.0859, 0.0632],\n          ...,\n          [0.0941, 0.0858, 0.0692],\n          [0.0941, 0.0813, 0.0676],\n          [0.0981, 0.0839, 0.0704]],\n\n         [[0.1244, 0.0774, 0.0618],\n          [0.1349, 0.0858, 0.0693],\n          [0.1428, 0.0889, 0.0686],\n          ...,\n          [0.0932, 0.0813, 0.0675],\n          [0.0964, 0.0815, 0.0692],\n          [0.1047, 0.0911, 0.0772]],\n\n         [[0.1345, 0.0803, 0.0636],\n          [0.1436, 0.0874, 0.0695],\n          [0.1489, 0.0919, 0.0724],\n          ...,\n          [0.0932, 0.0794, 0.0676],\n          [0.1036, 0.0898, 0.0769],\n          [0.1127, 0.0998, 0.0854]],\n\n         ...,\n\n         [[0.2349, 0.1829, 0.1613],\n          [0.2381, 0.1869, 0.1604],\n          [0.2210, 0.1700, 0.1460],\n          ...,\n          [0.2127, 0.1629, 0.1384],\n          [0.2208, 0.1710, 0.1510],\n          [0.2084, 0.1586, 0.1391]],\n\n         [[0.2281, 0.1762, 0.1545],\n          [0.2230, 0.1722, 0.1461],\n          [0.2085, 0.1584, 0.1322],\n          ...,\n          [0.1889, 0.1412, 0.1132],\n          [0.1926, 0.1462, 0.1223],\n          [0.1874, 0.1428, 0.1242]],\n\n         [[0.2237, 0.1740, 0.1500],\n          [0.2164, 0.1683, 0.1415],\n          [0.2070, 0.1608, 0.1334],\n          ...,\n          [0.2059, 0.1564, 0.1241],\n          [0.1871, 0.1417, 0.1137],\n          [0.1735, 0.1323, 0.1089]]],\n\n\n        [[[0.1115, 0.0645, 0.0427],\n          [0.1110, 0.0647, 0.0439],\n          [0.1122, 0.0676, 0.0513],\n          ...,\n          [0.0971, 0.0528, 0.0473],\n          [0.1063, 0.0604, 0.0528],\n          [0.1093, 0.0628, 0.0535]],\n\n         [[0.1120, 0.0649, 0.0436],\n          [0.1094, 0.0631, 0.0408],\n          [0.1099, 0.0653, 0.0459],\n          ...,\n          [0.1135, 0.0670, 0.0600],\n          [0.1185, 0.0715, 0.0630],\n          [0.1131, 0.0681, 0.0582]],\n\n         [[0.1089, 0.0637, 0.0447],\n          [0.1068, 0.0626, 0.0430],\n          [0.1059, 0.0627, 0.0431],\n          ...,\n          [0.1268, 0.0779, 0.0697],\n          [0.1193, 0.0719, 0.0610],\n          [0.1131, 0.0677, 0.0548]],\n\n         ...,\n\n         [[0.2512, 0.2059, 0.1667],\n          [0.2512, 0.2040, 0.1652],\n          [0.2527, 0.2032, 0.1664],\n          ...,\n          [0.1245, 0.0882, 0.0799],\n          [0.1215, 0.0895, 0.0754],\n          [0.1210, 0.0906, 0.0778]],\n\n         [[0.2528, 0.2060, 0.1673],\n          [0.2516, 0.2022, 0.1652],\n          [0.2516, 0.2006, 0.1651],\n          ...,\n          [0.1275, 0.0874, 0.0843],\n          [0.1224, 0.0874, 0.0793],\n          [0.1186, 0.0879, 0.0761]],\n\n         [[0.2532, 0.2033, 0.1655],\n          [0.2520, 0.2008, 0.1643],\n          [0.2533, 0.2024, 0.1647],\n          ...,\n          [0.1327, 0.0935, 0.0896],\n          [0.1256, 0.0894, 0.0842],\n          [0.1186, 0.0866, 0.0791]]]])&#x27;], &#x27;extrinsics&#x27;: [&#x27;tensor([[[-0.8090,  0.0000,  0.5878,  0.0000],\n         [ 0.3699,  0.7771,  0.5091,  0.0000],\n         [-0.4568,  0.6293, -0.6287,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[ 0.3090,  0.0000,  0.9511,  0.0000],\n         [ 0.5985,  0.7771, -0.1945,  0.0000],\n         [-0.7391,  0.6293,  0.2402,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[ 1.0000,  0.0000,  0.0000,  0.0000],\n         [ 0.0000,  0.7771, -0.6293,  0.0000],\n         [ 0.0000,  0.6293,  0.7771,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[ 0.3090,  0.0000, -0.9511,  0.0000],\n         [-0.5985,  0.7771, -0.1945,  0.0000],\n         [ 0.7391,  0.6293,  0.2402,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[-0.8090,  0.0000, -0.5878,  0.0000],\n         [-0.3699,  0.7771,  0.5091,  0.0000],\n         [ 0.4568,  0.6293, -0.6287,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[-0.8090,  0.0000,  0.5878,  0.0000],\n         [-0.3201,  0.8387, -0.4406,  0.0000],\n         [-0.4930, -0.5446, -0.6785,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[ 0.3090,  0.0000,  0.9511,  0.0000],\n         [-0.5180,  0.8387,  0.1683,  0.0000],\n         [-0.7976, -0.5446,  0.2592,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[ 1.0000,  0.0000,  0.0000,  0.0000],\n         [ 0.0000,  0.8387,  0.5446,  0.0000],\n         [ 0.0000, -0.5446,  0.8387,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[ 0.3090,  0.0000, -0.9511,  0.0000],\n         [ 0.5180,  0.8387,  0.1683,  0.0000],\n         [ 0.7976, -0.5446,  0.2592,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[-0.8090,  0.0000, -0.5878,  0.0000],\n         [ 0.3201,  0.8387, -0.4406,  0.0000],\n         [ 0.4930, -0.5446, -0.6785,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[-0.8090,  0.0000,  0.5878,  0.0000],\n         [-0.5678, -0.2588, -0.7815,  0.0000],\n         [ 0.1521, -0.9659,  0.2094,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[ 0.3090,  0.0000,  0.9511,  0.0000],\n         [-0.9187, -0.2588,  0.2985,  0.0000],\n         [ 0.2462, -0.9659, -0.0800,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[ 1.0000,  0.0000,  0.0000,  0.0000],\n         [ 0.0000, -0.2588,  0.9659,  0.0000],\n         [ 0.0000, -0.9659, -0.2588,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[ 0.3090,  0.0000, -0.9511,  0.0000],\n         [ 0.9187, -0.2588,  0.2985,  0.0000],\n         [-0.2462, -0.9659, -0.0800,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\n\n        [[-0.8090,  0.0000, -0.5878,  0.0000],\n         [ 0.5678, -0.2588, -0.7815,  0.0000],\n         [-0.1521, -0.9659,  0.2094,  0.0000],\n         [ 0.0000,  0.0000,  0.0000,  1.0000]]])&#x27;], &#x27;intrinsics&#x27;: [&#x27;tensor([[768.0000,   0.0000, 767.5000,   0.0000],\n        [  0.0000, 768.0000, 767.5000,   0.0000],\n        [  0.0000,   0.0000,   1.0000,   0.0000],\n        [  0.0000,   0.0000,   0.0000,   1.0000]])&#x27;]}, &#x27;current_outputs&#x27;: [&#x27;12&#x27;, &#x27;8&#x27;, &#x27;21&#x27;, &#x27;20&#x27;, &#x27;24&#x27;, &#x27;16&#x27;, &#x27;25&#x27;, &#x27;9&#x27;, &#x27;19&#x27;, &#x27;7&#x27;, &#x27;11&#x27;, &#x27;6&#x27;, &#x27;13&#x27;], &#x27;timestamp&#x27;: 1771256576909}

Details:
Workflow: /home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/workflows/pano.json
Node error: SharpPredictDepth</div>
            </div>
        
            <div class="failed-item">
                <div class="failed-header">
                    <span class="failed-name">sharp_basic</span>
                    <span class="failed-duration">64.86s</span>
                </div>
                <div class="failed-error">Workflow execution failed: {&#x27;prompt_id&#x27;: &#x27;ad33b13d-b84d-4ca4-8a9b-956d59197f55&#x27;, &#x27;node_id&#x27;: &#x27;5&#x27;, &#x27;node_type&#x27;: &#x27;SharpPredict&#x27;, &#x27;executed&#x27;: [&#x27;2&#x27;, &#x27;1&#x27;], &#x27;exception_message&#x27;: &#x27;Input type (float) and bias type (c10::BFloat16) should be the same\n&#x27;, &#x27;exception_type&#x27;: &#x27;RuntimeError&#x27;, &#x27;traceback&#x27;: [&#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 530, in execute\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 334, in get_output_data\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 308, in _async_map_node_over_list\n    await process_inputs(input_dict, i)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 296, in process_inputs\n    result = f(**inputs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/utils/_contextlib.py&quot;, line 124, in decorate_context\n    return func(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py&quot;, line 190, in predict\n    gaussians = self._predict_image_cached(\n        predictor, image_np, f_px, device,\n        extrinsics=img_extrinsics,\n        intrinsics=img_intrinsics,\n    )\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py&quot;, line 284, in _predict_image_cached\n    monodepth_output, _ = predictor.encode(image_resized_pt)\n                          ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/predictor.py&quot;, line 112, in encode\n    monodepth_output = self.monodepth_model(image)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/monodepth.py&quot;, line 197, in forward\n    encoder_output = self.monodepth_predictor.encoder(inputs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/spn_encoder.py&quot;, line 249, in forward\n    x_pyramid_encodings, patch_intermediate_features = self.patch_encoder(x_pyramid_patches)\n                                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/vit_encoder.py&quot;, line 70, in forward\n    x = self.patch_embed(input_tensor)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/timm/layers/patch_embed.py&quot;, line 136, in forward\n    x = self.proj(x)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py&quot;, line 553, in forward\n    return self._conv_forward(input, self.weight, self.bias)\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py&quot;, line 548, in _conv_forward\n    return F.conv2d(\n           ~~~~~~~~^\n        input, weight, bias, self.stride, self.padding, self.dilation, self.groups\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n&#x27;], &#x27;current_inputs&#x27;: {&#x27;focal_length_mm&#x27;: [30], &#x27;output_prefix&#x27;: [&#x27;sharp&#x27;], &#x27;model&#x27;: [&quot;{&#x27;model_path&#x27;: &#x27;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/models/sharp/sharp_2572gikvuh.pt&#x27;, &#x27;dtype&#x27;: torch.bfloat16}&quot;], &#x27;image&#x27;: [&#x27;tensor([[[[0.0039, 0.4863, 0.9608],\n          [0.0039, 0.4863, 0.9608],\n          [0.0039, 0.4863, 0.9608],\n          ...,\n          [0.0510, 0.0353, 0.0000],\n          [0.0510, 0.0353, 0.0000],\n          [0.0510, 0.0353, 0.0000]],\n\n         [[0.0039, 0.4863, 0.9608],\n          [0.0039, 0.4863, 0.9608],\n          [0.0039, 0.4863, 0.9608],\n          ...,\n          [0.0510, 0.0353, 0.0000],\n          [0.0510, 0.0353, 0.0000],\n          [0.0510, 0.0353, 0.0000]],\n\n         [[0.0039, 0.4863, 0.9608],\n          [0.0039, 0.4863, 0.9608],\n          [0.0039, 0.4863, 0.9608],\n          ...,\n          [0.0510, 0.0353, 0.0000],\n          [0.0510, 0.0353, 0.0000],\n          [0.0510, 0.0353, 0.0000]],\n\n         ...,\n\n         [[0.6824, 0.6157, 0.5373],\n          [0.6824, 0.6157, 0.5373],\n          [0.6824, 0.6157, 0.5373],\n          ...,\n          [0.5137, 0.4627, 0.4275],\n          [0.5137, 0.4627, 0.4314],\n          [0.5137, 0.4627, 0.4275]],\n\n         [[0.6824, 0.6157, 0.5373],\n          [0.6824, 0.6157, 0.5373],\n          [0.6824, 0.6157, 0.5373],\n          ...,\n          [0.5059, 0.4667, 0.4314],\n          [0.5059, 0.4627, 0.4392],\n          [0.5059, 0.4667, 0.4314]],\n\n         [[0.6824, 0.6157, 0.5373],\n          [0.6824, 0.6157, 0.5373],\n          [0.6824, 0.6157, 0.5373],\n          ...,\n          [0.5059, 0.4627, 0.4392],\n          [0.5059, 0.4627, 0.4392],\n          [0.5059, 0.4627, 0.4392]]]])&#x27;]}, &#x27;current_outputs&#x27;: [&#x27;4&#x27;, &#x27;5&#x27;, &#x27;2&#x27;, &#x27;1&#x27;], &#x27;timestamp&#x27;: 1771256642206}

Details:
Workflow: /home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/workflows/sharp_basic.json
Node error: SharpPredict</div>
            </div>
        
            <div class="failed-item">
                <div class="failed-header">
                    <span class="failed-name">sharp_exif</span>
                    <span class="failed-duration">75.25s</span>
                </div>
                <div class="failed-error">Workflow execution failed: {&#x27;prompt_id&#x27;: &#x27;bb225dab-3111-4581-8658-34d60d1169d9&#x27;, &#x27;node_id&#x27;: &#x27;7&#x27;, &#x27;node_type&#x27;: &#x27;SharpPredict&#x27;, &#x27;executed&#x27;: [&#x27;9&#x27;, &#x27;2&#x27;], &#x27;exception_message&#x27;: &#x27;Input type (float) and bias type (c10::BFloat16) should be the same\n&#x27;, &#x27;exception_type&#x27;: &#x27;RuntimeError&#x27;, &#x27;traceback&#x27;: [&#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 530, in execute\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 334, in get_output_data\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 308, in _async_map_node_over_list\n    await process_inputs(input_dict, i)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py&quot;, line 296, in process_inputs\n    result = f(**inputs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/utils/_contextlib.py&quot;, line 124, in decorate_context\n    return func(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py&quot;, line 190, in predict\n    gaussians = self._predict_image_cached(\n        predictor, image_np, f_px, device,\n        extrinsics=img_extrinsics,\n        intrinsics=img_intrinsics,\n    )\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py&quot;, line 284, in _predict_image_cached\n    monodepth_output, _ = predictor.encode(image_resized_pt)\n                          ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/predictor.py&quot;, line 112, in encode\n    monodepth_output = self.monodepth_model(image)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/monodepth.py&quot;, line 197, in forward\n    encoder_output = self.monodepth_predictor.encoder(inputs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/spn_encoder.py&quot;, line 249, in forward\n    x_pyramid_encodings, patch_intermediate_features = self.patch_encoder(x_pyramid_patches)\n                                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/vit_encoder.py&quot;, line 70, in forward\n    x = self.patch_embed(input_tensor)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/timm/layers/patch_embed.py&quot;, line 136, in forward\n    x = self.proj(x)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1776, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py&quot;, line 1787, in _call_impl\n    return forward_call(*args, **kwargs)\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py&quot;, line 553, in forward\n    return self._conv_forward(input, self.weight, self.bias)\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n&#x27;, &#x27;  File &quot;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py&quot;, line 548, in _conv_forward\n    return F.conv2d(\n           ~~~~~~~~^\n        input, weight, bias, self.stride, self.padding, self.dilation, self.groups\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n&#x27;], &#x27;current_inputs&#x27;: {&#x27;focal_length_mm&#x27;: [20], &#x27;output_prefix&#x27;: [&#x27;sharp&#x27;], &#x27;model&#x27;: [&quot;{&#x27;model_path&#x27;: &#x27;/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/models/sharp/sharp_2572gikvuh.pt&#x27;, &#x27;dtype&#x27;: torch.bfloat16}&quot;], &#x27;image&#x27;: [&#x27;tensor([[[[0.2157, 0.1647, 0.1569],\n          [0.2275, 0.1608, 0.1608],\n          [0.2275, 0.1647, 0.1529],\n          ...,\n          [0.4471, 0.4745, 0.4863],\n          [0.4510, 0.4745, 0.4863],\n          [0.4431, 0.4745, 0.4745]],\n\n         [[0.2196, 0.1686, 0.1569],\n          [0.2314, 0.1647, 0.1608],\n          [0.2353, 0.1647, 0.1647],\n          ...,\n          [0.4549, 0.4784, 0.4706],\n          [0.4549, 0.4706, 0.4784],\n          [0.4431, 0.4706, 0.4667]],\n\n         [[0.2314, 0.1725, 0.1569],\n          [0.2510, 0.1725, 0.1608],\n          [0.2392, 0.1725, 0.1686],\n          ...,\n          [0.4588, 0.4745, 0.4627],\n          [0.4510, 0.4745, 0.4667],\n          [0.4471, 0.4706, 0.4627]],\n\n         ...,\n\n         [[0.1569, 0.1647, 0.1843],\n          [0.1647, 0.1725, 0.1882],\n          [0.1490, 0.1686, 0.1922],\n          ...,\n          [0.1020, 0.1137, 0.1373],\n          [0.1137, 0.1176, 0.1412],\n          [0.0863, 0.1176, 0.1373]],\n\n         [[0.1569, 0.1686, 0.1804],\n          [0.1569, 0.1647, 0.1961],\n          [0.1490, 0.1647, 0.1961],\n          ...,\n          [0.1059, 0.1216, 0.1294],\n          [0.1176, 0.1216, 0.1333],\n          [0.1059, 0.1137, 0.1373]],\n\n         [[0.1608, 0.1686, 0.1843],\n          [0.1608, 0.1686, 0.1882],\n          [0.1569, 0.1686, 0.1882],\n          ...,\n          [0.1059, 0.1176, 0.1333],\n          [0.1137, 0.1176, 0.1333],\n          [0.1333, 0.1176, 0.1333]]]])&#x27;]}, &#x27;current_outputs&#x27;: [&#x27;8&#x27;, &#x27;9&#x27;, &#x27;2&#x27;, &#x27;7&#x27;], &#x27;timestamp&#x27;: 1771256716279}

Details:
Workflow: /home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/workflows/sharp_exif.json
Node error: SharpPredict</div>
            </div>
        
        </div>
    

        
        <div class="models-section">
            <div class="section-header">
                <h2 class="section-title">Downloaded Models</h2>
                <span class="models-total">3 files &middot; 2.6 GB</span>
            </div>
            
            <details class="models-folder" open>
                <summary class="models-folder-header">
                    <span class="models-folder-name">models/sharp/</span>
                    <span class="models-folder-meta">
                        
                        <span class="models-folder-size">2.6 GB</span>
                    </span>
                </summary>
                <div class="models-file-list">
                    <div class="models-file"><span class="models-file-path">sharp_2572gikvuh.pt</span><span class="models-file-size">2.6 GB</span></div>
<div class="models-file"><span class="models-file-path">.cache/huggingface/download/sharp_2572gikvuh.pt.metadata</span><span class="models-file-size">124.0 B</span></div>
<div class="models-file"><span class="models-file-path">.cache/huggingface/.gitignore</span><span class="models-file-size">1.0 B</span></div>
                </div>
            </details>
        
        </div>
    
    </div>

    <div class="lightbox" id="lightbox">
        <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
        <div class="lightbox-content">
            <img id="lightbox-img" src="" alt="">
            <div class="video-player" id="video-player">
                <div class="video-slider-container">
                    <div id="video-slider"></div>
                </div>
                <div class="video-controls">
                    <span class="video-frame-counter" id="video-frame-counter">0.0s / 0.0s</span>
                </div>
            </div>
            <div class="resource-graph" id="resource-graph">
                <div class="resource-graph-title">Resource Usage</div>
                <canvas id="resource-canvas"></canvas>
                <div class="resource-legend">
                    <span><span class="dot ram"></span> RAM (GB)</span>
                    <span id="gpu-legend" style="display:none"><span class="dot gpu"></span> VRAM (GB)</span>
                </div>
            </div>
            <div class="lightbox-info">
                <div>
                    <span class="lightbox-title" id="lightbox-title"></span>
                    <span class="lightbox-hardware" id="lightbox-hardware"></span>
                </div>
                <div class="lightbox-meta">
                    <span class="lightbox-badge" id="lightbox-badge"></span>
                    <span class="lightbox-duration" id="lightbox-duration"></span>
                </div>
            </div>
            <pre class="lightbox-log" id="lightbox-log"></pre>
        </div>
    </div>

    <footer>
        Generated by <a href="https://github.com/PozzettiAndrea/comfy-test">comfy-test</a>
    </footer>

    <script>
        function setView(mode) {
            const grid = document.getElementById('workflow-grid');
            grid.className = mode === 'list' ? 'workflow-grid view-list' : 'workflow-grid';
            document.querySelectorAll('.view-controls .view-btn').forEach(btn => {
                btn.classList.toggle('active', btn.textContent.trim().toLowerCase() === mode);
            });
        }

        const workflowData = {"pano": {"src": "", "title": "pano", "status": "fail", "duration": "316.15", "log": "Capturing execution frames: pano.json\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-warning] WARNING: Multiple instances of Three.js being imported.\n  [Console-warning] [MaskEditor] ComfyApp.open_maskeditor is deprecated. Plugins should migrate to using the command system or direct node context menu integration.\n  Validating workflow...\n  Queuing workflow for execution...\n  Execution error: {'prompt_id': '24cb467d-72a6-4215-9636-8bfc04f39e37', 'node_id': '11', 'node_type': 'SharpPredictDepth', 'executed': ['8', '9', '6', '7'], 'exception_message': 'Input type (float) and bias type (c10::BFloat16) should be the same\\n', 'exception_type': 'RuntimeError', 'traceback': ['  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 530, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 334, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 308, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 296, in process_inputs\\n    result = f(**inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/utils/_contextlib.py\", line 124, in decorate_context\\n    return func(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict_depth.py\", line 157, in predict_depth\\n    monodepth_output, depth_decoder_features = predictor.encode(image_resized_pt)\\n                                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/predictor.py\", line 112, in encode\\n    monodepth_output = self.monodepth_model(image)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/monodepth.py\", line 197, in forward\\n    encoder_output = self.monodepth_predictor.encoder(inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/spn_encoder.py\", line 249, in forward\\n    x_pyramid_encodings, patch_intermediate_features = self.patch_encoder(x_pyramid_patches)\\n                                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/vit_encoder.py\", line 70, in forward\\n    x = self.patch_embed(input_tensor)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/timm/layers/patch_embed.py\", line 136, in forward\\n    x = self.proj(x)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 553, in forward\\n    return self._conv_forward(input, self.weight, self.bias)\\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 548, in _conv_forward\\n    return F.conv2d(\\n           ~~~~~~~~^\\n        input, weight, bias, self.stride, self.padding, self.dilation, self.groups\\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n    )\\n    ^\\n'], 'current_inputs': {'model': [\"{'model_path': '/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/models/sharp/sharp_2572gikvuh.pt', 'dtype': torch.bfloat16}\"], 'image': ['tensor([[[[0.1753, 0.1119, 0.1057],\\n          [0.1854, 0.1170, 0.1077],\\n          [0.1868, 0.1151, 0.1028],\\n          ...,\\n          [0.1098, 0.0749, 0.0639],\\n          [0.1088, 0.0708, 0.0617],\\n          [0.1095, 0.0718, 0.0630]],\\n\\n         [[0.1713, 0.1091, 0.1027],\\n          [0.1894, 0.1201, 0.1097],\\n          [0.1887, 0.1179, 0.1045],\\n          ...,\\n          [0.0992, 0.0622, 0.0539],\\n          [0.0983, 0.0591, 0.0525],\\n          [0.1007, 0.0635, 0.0555]],\\n\\n         [[0.1661, 0.1060, 0.1002],\\n          [0.1864, 0.1179, 0.1070],\\n          [0.1931, 0.1213, 0.1065],\\n          ...,\\n          [0.0919, 0.0533, 0.0471],\\n          [0.0905, 0.0517, 0.0459],\\n          [0.0913, 0.0534, 0.0461]],\\n\\n         ...,\\n\\n         [[0.2313, 0.1777, 0.1414],\\n          [0.2374, 0.1830, 0.1450],\\n          [0.2445, 0.1907, 0.1515],\\n          ...,\\n          [0.1972, 0.1422, 0.1108],\\n          [0.1985, 0.1428, 0.1119],\\n          [0.2045, 0.1465, 0.1167]],\\n\\n         [[0.2353, 0.1841, 0.1503],\\n          [0.2410, 0.1888, 0.1541],\\n          [0.2466, 0.1947, 0.1584],\\n          ...,\\n          [0.2000, 0.1451, 0.1137],\\n          [0.2009, 0.1460, 0.1146],\\n          [0.2037, 0.1483, 0.1172]],\\n\\n         [[0.2414, 0.1904, 0.1601],\\n          [0.2429, 0.1916, 0.1590],\\n          [0.2454, 0.1944, 0.1599],\\n          ...,\\n          [0.2010, 0.1462, 0.1147],\\n          [0.2035, 0.1489, 0.1173],\\n          [0.2060, 0.1511, 0.1198]]],\\n\\n\\n        [[[0.1938, 0.1646, 0.1436],\\n          [0.1929, 0.1637, 0.1396],\\n          [0.1946, 0.1622, 0.1367],\\n          ...,\\n          [0.1624, 0.1248, 0.1042],\\n          [0.1899, 0.1459, 0.1208],\\n          [0.2193, 0.1689, 0.1390]],\\n\\n         [[0.1929, 0.1639, 0.1467],\\n          [0.1935, 0.1659, 0.1449],\\n          [0.1945, 0.1643, 0.1415],\\n          ...,\\n          [0.1695, 0.1306, 0.1087],\\n          [0.1944, 0.1488, 0.1227],\\n          [0.2214, 0.1706, 0.1394]],\\n\\n         [[0.1884, 0.1612, 0.1467],\\n          [0.1930, 0.1656, 0.1485],\\n          [0.1950, 0.1664, 0.1471],\\n          ...,\\n          [0.1730, 0.1328, 0.1101],\\n          [0.1960, 0.1498, 0.1226],\\n          [0.2207, 0.1706, 0.1377]],\\n\\n         ...,\\n\\n         [[0.2149, 0.1339, 0.1143],\\n          [0.2263, 0.1384, 0.1191],\\n          [0.2324, 0.1389, 0.1204],\\n          ...,\\n          [0.1607, 0.1215, 0.0918],\\n          [0.1601, 0.1212, 0.0938],\\n          [0.1586, 0.1205, 0.0935]],\\n\\n         [[0.2093, 0.1301, 0.1120],\\n          [0.2186, 0.1312, 0.1143],\\n          [0.2259, 0.1322, 0.1157],\\n          ...,\\n          [0.1597, 0.1216, 0.0920],\\n          [0.1604, 0.1216, 0.0937],\\n          [0.1618, 0.1221, 0.0953]],\\n\\n         [[0.2048, 0.1255, 0.1099],\\n          [0.2143, 0.1271, 0.1116],\\n          [0.2233, 0.1286, 0.1130],\\n          ...,\\n          [0.1579, 0.1218, 0.0946],\\n          [0.1607, 0.1228, 0.0969],\\n          [0.1640, 0.1237, 0.0995]]],\\n\\n\\n        [[[0.2273, 0.1709, 0.1381],\\n          [0.2485, 0.1858, 0.1513],\\n          [0.2934, 0.2230, 0.1899],\\n          ...,\\n          [0.4487, 0.2698, 0.1973],\\n          [0.5168, 0.3237, 0.2418],\\n          [0.5523, 0.3491, 0.2586]],\\n\\n         [[0.2349, 0.1820, 0.1522],\\n          [0.2400, 0.1822, 0.1481],\\n          [0.2806, 0.2143, 0.1804],\\n          ...,\\n          [0.4830, 0.3001, 0.2205],\\n          [0.5510, 0.3551, 0.2653],\\n          [0.5571, 0.3540, 0.2570]],\\n\\n         [[0.2382, 0.1888, 0.1614],\\n          [0.2475, 0.1933, 0.1622],\\n          [0.2718, 0.2103, 0.1767],\\n          ...,\\n          [0.5174, 0.3322, 0.2443],\\n          [0.5579, 0.3624, 0.2657],\\n          [0.5600, 0.3562, 0.2536]],\\n\\n         ...,\\n\\n         [[0.1884, 0.1437, 0.1064],\\n          [0.1774, 0.1338, 0.0981],\\n          [0.1760, 0.1305, 0.0951],\\n          ...,\\n          [0.2402, 0.1853, 0.1433],\\n          [0.2392, 0.1843, 0.1423],\\n          [0.2370, 0.1821, 0.1423]],\\n\\n         [[0.1863, 0.1429, 0.1066],\\n          [0.1831, 0.1388, 0.1038],\\n          [0.1836, 0.1362, 0.1020],\\n          ...,\\n          [0.2474, 0.1925, 0.1544],\\n          [0.2455, 0.1905, 0.1526],\\n          [0.2432, 0.1883, 0.1513]],\\n\\n         [[0.1903, 0.1471, 0.1108],\\n          [0.1885, 0.1426, 0.1083],\\n          [0.1881, 0.1389, 0.1066],\\n          ...,\\n          [0.2563, 0.2015, 0.1661],\\n          [0.2521, 0.1975, 0.1619],\\n          [0.2493, 0.1955, 0.1591]]],\\n\\n\\n        ...,\\n\\n\\n        [[[0.1448, 0.1053, 0.0920],\\n          [0.1473, 0.1068, 0.0930],\\n          [0.1441, 0.1002, 0.0871],\\n          ...,\\n          [0.2174, 0.1594, 0.1312],\\n          [0.2187, 0.1578, 0.1329],\\n          [0.2192, 0.1577, 0.1342]],\\n\\n         [[0.1384, 0.0991, 0.0836],\\n          [0.1466, 0.1066, 0.0913],\\n          [0.1475, 0.1042, 0.0903],\\n          ...,\\n          [0.2182, 0.1590, 0.1335],\\n          [0.2195, 0.1580, 0.1345],\\n          [0.2197, 0.1590, 0.1355]],\\n\\n         [[0.1336, 0.0925, 0.0777],\\n          [0.1414, 0.0993, 0.0851],\\n          [0.1484, 0.1053, 0.0916],\\n          ...,\\n          [0.2195, 0.1607, 0.1371],\\n          [0.2183, 0.1596, 0.1360],\\n          [0.2180, 0.1597, 0.1362]],\\n\\n         ...,\\n\\n         [[0.1700, 0.1060, 0.0804],\\n          [0.1736, 0.1116, 0.0800],\\n          [0.1577, 0.0996, 0.0627],\\n          ...,\\n          [0.0861, 0.0392, 0.0254],\\n          [0.0872, 0.0371, 0.0246],\\n          [0.0901, 0.0384, 0.0252]],\\n\\n         [[0.1588, 0.0956, 0.0687],\\n          [0.1466, 0.0903, 0.0542],\\n          [0.1379, 0.0847, 0.0429],\\n          ...,\\n          [0.0879, 0.0448, 0.0288],\\n          [0.0893, 0.0431, 0.0285],\\n          [0.0899, 0.0405, 0.0264]],\\n\\n         [[0.1345, 0.0769, 0.0465],\\n          [0.1327, 0.0782, 0.0407],\\n          [0.1360, 0.0801, 0.0418],\\n          ...,\\n          [0.0852, 0.0468, 0.0287],\\n          [0.0890, 0.0458, 0.0295],\\n          [0.0903, 0.0439, 0.0285]]],\\n\\n\\n        [[[0.1245, 0.0786, 0.0634],\\n          [0.1331, 0.0841, 0.0663],\\n          [0.1403, 0.0859, 0.0632],\\n          ...,\\n          [0.0941, 0.0858, 0.0692],\\n          [0.0941, 0.0813, 0.0676],\\n          [0.0981, 0.0839, 0.0704]],\\n\\n         [[0.1244, 0.0774, 0.0618],\\n          [0.1349, 0.0858, 0.0693],\\n          [0.1428, 0.0889, 0.0686],\\n          ...,\\n          [0.0932, 0.0813, 0.0675],\\n          [0.0964, 0.0815, 0.0692],\\n          [0.1047, 0.0911, 0.0772]],\\n\\n         [[0.1345, 0.0803, 0.0636],\\n          [0.1436, 0.0874, 0.0695],\\n          [0.1489, 0.0919, 0.0724],\\n          ...,\\n          [0.0932, 0.0794, 0.0676],\\n          [0.1036, 0.0898, 0.0769],\\n          [0.1127, 0.0998, 0.0854]],\\n\\n         ...,\\n\\n         [[0.2349, 0.1829, 0.1613],\\n          [0.2381, 0.1869, 0.1604],\\n          [0.2210, 0.1700, 0.1460],\\n          ...,\\n          [0.2127, 0.1629, 0.1384],\\n          [0.2208, 0.1710, 0.1510],\\n          [0.2084, 0.1586, 0.1391]],\\n\\n         [[0.2281, 0.1762, 0.1545],\\n          [0.2230, 0.1722, 0.1461],\\n          [0.2085, 0.1584, 0.1322],\\n          ...,\\n          [0.1889, 0.1412, 0.1132],\\n          [0.1926, 0.1462, 0.1223],\\n          [0.1874, 0.1428, 0.1242]],\\n\\n         [[0.2237, 0.1740, 0.1500],\\n          [0.2164, 0.1683, 0.1415],\\n          [0.2070, 0.1608, 0.1334],\\n          ...,\\n          [0.2059, 0.1564, 0.1241],\\n          [0.1871, 0.1417, 0.1137],\\n          [0.1735, 0.1323, 0.1089]]],\\n\\n\\n        [[[0.1115, 0.0645, 0.0427],\\n          [0.1110, 0.0647, 0.0439],\\n          [0.1122, 0.0676, 0.0513],\\n          ...,\\n          [0.0971, 0.0528, 0.0473],\\n          [0.1063, 0.0604, 0.0528],\\n          [0.1093, 0.0628, 0.0535]],\\n\\n         [[0.1120, 0.0649, 0.0436],\\n          [0.1094, 0.0631, 0.0408],\\n          [0.1099, 0.0653, 0.0459],\\n          ...,\\n          [0.1135, 0.0670, 0.0600],\\n          [0.1185, 0.0715, 0.0630],\\n          [0.1131, 0.0681, 0.0582]],\\n\\n         [[0.1089, 0.0637, 0.0447],\\n          [0.1068, 0.0626, 0.0430],\\n          [0.1059, 0.0627, 0.0431],\\n          ...,\\n          [0.1268, 0.0779, 0.0697],\\n          [0.1193, 0.0719, 0.0610],\\n          [0.1131, 0.0677, 0.0548]],\\n\\n         ...,\\n\\n         [[0.2512, 0.2059, 0.1667],\\n          [0.2512, 0.2040, 0.1652],\\n          [0.2527, 0.2032, 0.1664],\\n          ...,\\n          [0.1245, 0.0882, 0.0799],\\n          [0.1215, 0.0895, 0.0754],\\n          [0.1210, 0.0906, 0.0778]],\\n\\n         [[0.2528, 0.2060, 0.1673],\\n          [0.2516, 0.2022, 0.1652],\\n          [0.2516, 0.2006, 0.1651],\\n          ...,\\n          [0.1275, 0.0874, 0.0843],\\n          [0.1224, 0.0874, 0.0793],\\n          [0.1186, 0.0879, 0.0761]],\\n\\n         [[0.2532, 0.2033, 0.1655],\\n          [0.2520, 0.2008, 0.1643],\\n          [0.2533, 0.2024, 0.1647],\\n          ...,\\n          [0.1327, 0.0935, 0.0896],\\n          [0.1256, 0.0894, 0.0842],\\n          [0.1186, 0.0866, 0.0791]]]])'], 'extrinsics': ['tensor([[[-0.8090,  0.0000,  0.5878,  0.0000],\\n         [ 0.3699,  0.7771,  0.5091,  0.0000],\\n         [-0.4568,  0.6293, -0.6287,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000,  0.9511,  0.0000],\\n         [ 0.5985,  0.7771, -0.1945,  0.0000],\\n         [-0.7391,  0.6293,  0.2402,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 1.0000,  0.0000,  0.0000,  0.0000],\\n         [ 0.0000,  0.7771, -0.6293,  0.0000],\\n         [ 0.0000,  0.6293,  0.7771,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000, -0.9511,  0.0000],\\n         [-0.5985,  0.7771, -0.1945,  0.0000],\\n         [ 0.7391,  0.6293,  0.2402,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[-0.8090,  0.0000, -0.5878,  0.0000],\\n         [-0.3699,  0.7771,  0.5091,  0.0000],\\n         [ 0.4568,  0.6293, -0.6287,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[-0.8090,  0.0000,  0.5878,  0.0000],\\n         [-0.3201,  0.8387, -0.4406,  0.0000],\\n         [-0.4930, -0.5446, -0.6785,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000,  0.9511,  0.0000],\\n         [-0.5180,  0.8387,  0.1683,  0.0000],\\n         [-0.7976, -0.5446,  0.2592,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 1.0000,  0.0000,  0.0000,  0.0000],\\n         [ 0.0000,  0.8387,  0.5446,  0.0000],\\n         [ 0.0000, -0.5446,  0.8387,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000, -0.9511,  0.0000],\\n         [ 0.5180,  0.8387,  0.1683,  0.0000],\\n         [ 0.7976, -0.5446,  0.2592,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[-0.8090,  0.0000, -0.5878,  0.0000],\\n         [ 0.3201,  0.8387, -0.4406,  0.0000],\\n         [ 0.4930, -0.5446, -0.6785,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[-0.8090,  0.0000,  0.5878,  0.0000],\\n         [-0.5678, -0.2588, -0.7815,  0.0000],\\n         [ 0.1521, -0.9659,  0.2094,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000,  0.9511,  0.0000],\\n         [-0.9187, -0.2588,  0.2985,  0.0000],\\n         [ 0.2462, -0.9659, -0.0800,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 1.0000,  0.0000,  0.0000,  0.0000],\\n         [ 0.0000, -0.2588,  0.9659,  0.0000],\\n         [ 0.0000, -0.9659, -0.2588,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000, -0.9511,  0.0000],\\n         [ 0.9187, -0.2588,  0.2985,  0.0000],\\n         [-0.2462, -0.9659, -0.0800,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[-0.8090,  0.0000, -0.5878,  0.0000],\\n         [ 0.5678, -0.2588, -0.7815,  0.0000],\\n         [-0.1521, -0.9659,  0.2094,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]]])'], 'intrinsics': ['tensor([[768.0000,   0.0000, 767.5000,   0.0000],\\n        [  0.0000, 768.0000, 767.5000,   0.0000],\\n        [  0.0000,   0.0000,   1.0000,   0.0000],\\n        [  0.0000,   0.0000,   0.0000,   1.0000]])']}, 'current_outputs': ['12', '8', '21', '20', '24', '16', '25', '9', '19', '7', '11', '6', '13'], 'timestamp': 1771256576909}\n    Status: FAILED\n    Error: Workflow execution failed: {'prompt_id': '24cb467d-72a6-4215-9636-8bfc04f39e37', 'node_id': '11', 'node_type': 'SharpPredictDepth', 'executed': ['8', '9', '6', '7'], 'exception_message': 'Input type (float) and bias type (c10::BFloat16) should be the same\\n', 'exception_type': 'RuntimeError', 'traceback': ['  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 530, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 334, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 308, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 296, in process_inputs\\n    result = f(**inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/utils/_contextlib.py\", line 124, in decorate_context\\n    return func(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict_depth.py\", line 157, in predict_depth\\n    monodepth_output, depth_decoder_features = predictor.encode(image_resized_pt)\\n                                               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/predictor.py\", line 112, in encode\\n    monodepth_output = self.monodepth_model(image)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/monodepth.py\", line 197, in forward\\n    encoder_output = self.monodepth_predictor.encoder(inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/spn_encoder.py\", line 249, in forward\\n    x_pyramid_encodings, patch_intermediate_features = self.patch_encoder(x_pyramid_patches)\\n                                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/vit_encoder.py\", line 70, in forward\\n    x = self.patch_embed(input_tensor)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/timm/layers/patch_embed.py\", line 136, in forward\\n    x = self.proj(x)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 553, in forward\\n    return self._conv_forward(input, self.weight, self.bias)\\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 548, in _conv_forward\\n    return F.conv2d(\\n           ~~~~~~~~^\\n        input, weight, bias, self.stride, self.padding, self.dilation, self.groups\\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n    )\\n    ^\\n'], 'current_inputs': {'model': [\"{'model_path': '/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/models/sharp/sharp_2572gikvuh.pt', 'dtype': torch.bfloat16}\"], 'image': ['tensor([[[[0.1753, 0.1119, 0.1057],\\n          [0.1854, 0.1170, 0.1077],\\n          [0.1868, 0.1151, 0.1028],\\n          ...,\\n          [0.1098, 0.0749, 0.0639],\\n          [0.1088, 0.0708, 0.0617],\\n          [0.1095, 0.0718, 0.0630]],\\n\\n         [[0.1713, 0.1091, 0.1027],\\n          [0.1894, 0.1201, 0.1097],\\n          [0.1887, 0.1179, 0.1045],\\n          ...,\\n          [0.0992, 0.0622, 0.0539],\\n          [0.0983, 0.0591, 0.0525],\\n          [0.1007, 0.0635, 0.0555]],\\n\\n         [[0.1661, 0.1060, 0.1002],\\n          [0.1864, 0.1179, 0.1070],\\n          [0.1931, 0.1213, 0.1065],\\n          ...,\\n          [0.0919, 0.0533, 0.0471],\\n          [0.0905, 0.0517, 0.0459],\\n          [0.0913, 0.0534, 0.0461]],\\n\\n         ...,\\n\\n         [[0.2313, 0.1777, 0.1414],\\n          [0.2374, 0.1830, 0.1450],\\n          [0.2445, 0.1907, 0.1515],\\n          ...,\\n          [0.1972, 0.1422, 0.1108],\\n          [0.1985, 0.1428, 0.1119],\\n          [0.2045, 0.1465, 0.1167]],\\n\\n         [[0.2353, 0.1841, 0.1503],\\n          [0.2410, 0.1888, 0.1541],\\n          [0.2466, 0.1947, 0.1584],\\n          ...,\\n          [0.2000, 0.1451, 0.1137],\\n          [0.2009, 0.1460, 0.1146],\\n          [0.2037, 0.1483, 0.1172]],\\n\\n         [[0.2414, 0.1904, 0.1601],\\n          [0.2429, 0.1916, 0.1590],\\n          [0.2454, 0.1944, 0.1599],\\n          ...,\\n          [0.2010, 0.1462, 0.1147],\\n          [0.2035, 0.1489, 0.1173],\\n          [0.2060, 0.1511, 0.1198]]],\\n\\n\\n        [[[0.1938, 0.1646, 0.1436],\\n          [0.1929, 0.1637, 0.1396],\\n          [0.1946, 0.1622, 0.1367],\\n          ...,\\n          [0.1624, 0.1248, 0.1042],\\n          [0.1899, 0.1459, 0.1208],\\n          [0.2193, 0.1689, 0.1390]],\\n\\n         [[0.1929, 0.1639, 0.1467],\\n          [0.1935, 0.1659, 0.1449],\\n          [0.1945, 0.1643, 0.1415],\\n          ...,\\n          [0.1695, 0.1306, 0.1087],\\n          [0.1944, 0.1488, 0.1227],\\n          [0.2214, 0.1706, 0.1394]],\\n\\n         [[0.1884, 0.1612, 0.1467],\\n          [0.1930, 0.1656, 0.1485],\\n          [0.1950, 0.1664, 0.1471],\\n          ...,\\n          [0.1730, 0.1328, 0.1101],\\n          [0.1960, 0.1498, 0.1226],\\n          [0.2207, 0.1706, 0.1377]],\\n\\n         ...,\\n\\n         [[0.2149, 0.1339, 0.1143],\\n          [0.2263, 0.1384, 0.1191],\\n          [0.2324, 0.1389, 0.1204],\\n          ...,\\n          [0.1607, 0.1215, 0.0918],\\n          [0.1601, 0.1212, 0.0938],\\n          [0.1586, 0.1205, 0.0935]],\\n\\n         [[0.2093, 0.1301, 0.1120],\\n          [0.2186, 0.1312, 0.1143],\\n          [0.2259, 0.1322, 0.1157],\\n          ...,\\n          [0.1597, 0.1216, 0.0920],\\n          [0.1604, 0.1216, 0.0937],\\n          [0.1618, 0.1221, 0.0953]],\\n\\n         [[0.2048, 0.1255, 0.1099],\\n          [0.2143, 0.1271, 0.1116],\\n          [0.2233, 0.1286, 0.1130],\\n          ...,\\n          [0.1579, 0.1218, 0.0946],\\n          [0.1607, 0.1228, 0.0969],\\n          [0.1640, 0.1237, 0.0995]]],\\n\\n\\n        [[[0.2273, 0.1709, 0.1381],\\n          [0.2485, 0.1858, 0.1513],\\n          [0.2934, 0.2230, 0.1899],\\n          ...,\\n          [0.4487, 0.2698, 0.1973],\\n          [0.5168, 0.3237, 0.2418],\\n          [0.5523, 0.3491, 0.2586]],\\n\\n         [[0.2349, 0.1820, 0.1522],\\n          [0.2400, 0.1822, 0.1481],\\n          [0.2806, 0.2143, 0.1804],\\n          ...,\\n          [0.4830, 0.3001, 0.2205],\\n          [0.5510, 0.3551, 0.2653],\\n          [0.5571, 0.3540, 0.2570]],\\n\\n         [[0.2382, 0.1888, 0.1614],\\n          [0.2475, 0.1933, 0.1622],\\n          [0.2718, 0.2103, 0.1767],\\n          ...,\\n          [0.5174, 0.3322, 0.2443],\\n          [0.5579, 0.3624, 0.2657],\\n          [0.5600, 0.3562, 0.2536]],\\n\\n         ...,\\n\\n         [[0.1884, 0.1437, 0.1064],\\n          [0.1774, 0.1338, 0.0981],\\n          [0.1760, 0.1305, 0.0951],\\n          ...,\\n          [0.2402, 0.1853, 0.1433],\\n          [0.2392, 0.1843, 0.1423],\\n          [0.2370, 0.1821, 0.1423]],\\n\\n         [[0.1863, 0.1429, 0.1066],\\n          [0.1831, 0.1388, 0.1038],\\n          [0.1836, 0.1362, 0.1020],\\n          ...,\\n          [0.2474, 0.1925, 0.1544],\\n          [0.2455, 0.1905, 0.1526],\\n          [0.2432, 0.1883, 0.1513]],\\n\\n         [[0.1903, 0.1471, 0.1108],\\n          [0.1885, 0.1426, 0.1083],\\n          [0.1881, 0.1389, 0.1066],\\n          ...,\\n          [0.2563, 0.2015, 0.1661],\\n          [0.2521, 0.1975, 0.1619],\\n          [0.2493, 0.1955, 0.1591]]],\\n\\n\\n        ...,\\n\\n\\n        [[[0.1448, 0.1053, 0.0920],\\n          [0.1473, 0.1068, 0.0930],\\n          [0.1441, 0.1002, 0.0871],\\n          ...,\\n          [0.2174, 0.1594, 0.1312],\\n          [0.2187, 0.1578, 0.1329],\\n          [0.2192, 0.1577, 0.1342]],\\n\\n         [[0.1384, 0.0991, 0.0836],\\n          [0.1466, 0.1066, 0.0913],\\n          [0.1475, 0.1042, 0.0903],\\n          ...,\\n          [0.2182, 0.1590, 0.1335],\\n          [0.2195, 0.1580, 0.1345],\\n          [0.2197, 0.1590, 0.1355]],\\n\\n         [[0.1336, 0.0925, 0.0777],\\n          [0.1414, 0.0993, 0.0851],\\n          [0.1484, 0.1053, 0.0916],\\n          ...,\\n          [0.2195, 0.1607, 0.1371],\\n          [0.2183, 0.1596, 0.1360],\\n          [0.2180, 0.1597, 0.1362]],\\n\\n         ...,\\n\\n         [[0.1700, 0.1060, 0.0804],\\n          [0.1736, 0.1116, 0.0800],\\n          [0.1577, 0.0996, 0.0627],\\n          ...,\\n          [0.0861, 0.0392, 0.0254],\\n          [0.0872, 0.0371, 0.0246],\\n          [0.0901, 0.0384, 0.0252]],\\n\\n         [[0.1588, 0.0956, 0.0687],\\n          [0.1466, 0.0903, 0.0542],\\n          [0.1379, 0.0847, 0.0429],\\n          ...,\\n          [0.0879, 0.0448, 0.0288],\\n          [0.0893, 0.0431, 0.0285],\\n          [0.0899, 0.0405, 0.0264]],\\n\\n         [[0.1345, 0.0769, 0.0465],\\n          [0.1327, 0.0782, 0.0407],\\n          [0.1360, 0.0801, 0.0418],\\n          ...,\\n          [0.0852, 0.0468, 0.0287],\\n          [0.0890, 0.0458, 0.0295],\\n          [0.0903, 0.0439, 0.0285]]],\\n\\n\\n        [[[0.1245, 0.0786, 0.0634],\\n          [0.1331, 0.0841, 0.0663],\\n          [0.1403, 0.0859, 0.0632],\\n          ...,\\n          [0.0941, 0.0858, 0.0692],\\n          [0.0941, 0.0813, 0.0676],\\n          [0.0981, 0.0839, 0.0704]],\\n\\n         [[0.1244, 0.0774, 0.0618],\\n          [0.1349, 0.0858, 0.0693],\\n          [0.1428, 0.0889, 0.0686],\\n          ...,\\n          [0.0932, 0.0813, 0.0675],\\n          [0.0964, 0.0815, 0.0692],\\n          [0.1047, 0.0911, 0.0772]],\\n\\n         [[0.1345, 0.0803, 0.0636],\\n          [0.1436, 0.0874, 0.0695],\\n          [0.1489, 0.0919, 0.0724],\\n          ...,\\n          [0.0932, 0.0794, 0.0676],\\n          [0.1036, 0.0898, 0.0769],\\n          [0.1127, 0.0998, 0.0854]],\\n\\n         ...,\\n\\n         [[0.2349, 0.1829, 0.1613],\\n          [0.2381, 0.1869, 0.1604],\\n          [0.2210, 0.1700, 0.1460],\\n          ...,\\n          [0.2127, 0.1629, 0.1384],\\n          [0.2208, 0.1710, 0.1510],\\n          [0.2084, 0.1586, 0.1391]],\\n\\n         [[0.2281, 0.1762, 0.1545],\\n          [0.2230, 0.1722, 0.1461],\\n          [0.2085, 0.1584, 0.1322],\\n          ...,\\n          [0.1889, 0.1412, 0.1132],\\n          [0.1926, 0.1462, 0.1223],\\n          [0.1874, 0.1428, 0.1242]],\\n\\n         [[0.2237, 0.1740, 0.1500],\\n          [0.2164, 0.1683, 0.1415],\\n          [0.2070, 0.1608, 0.1334],\\n          ...,\\n          [0.2059, 0.1564, 0.1241],\\n          [0.1871, 0.1417, 0.1137],\\n          [0.1735, 0.1323, 0.1089]]],\\n\\n\\n        [[[0.1115, 0.0645, 0.0427],\\n          [0.1110, 0.0647, 0.0439],\\n          [0.1122, 0.0676, 0.0513],\\n          ...,\\n          [0.0971, 0.0528, 0.0473],\\n          [0.1063, 0.0604, 0.0528],\\n          [0.1093, 0.0628, 0.0535]],\\n\\n         [[0.1120, 0.0649, 0.0436],\\n          [0.1094, 0.0631, 0.0408],\\n          [0.1099, 0.0653, 0.0459],\\n          ...,\\n          [0.1135, 0.0670, 0.0600],\\n          [0.1185, 0.0715, 0.0630],\\n          [0.1131, 0.0681, 0.0582]],\\n\\n         [[0.1089, 0.0637, 0.0447],\\n          [0.1068, 0.0626, 0.0430],\\n          [0.1059, 0.0627, 0.0431],\\n          ...,\\n          [0.1268, 0.0779, 0.0697],\\n          [0.1193, 0.0719, 0.0610],\\n          [0.1131, 0.0677, 0.0548]],\\n\\n         ...,\\n\\n         [[0.2512, 0.2059, 0.1667],\\n          [0.2512, 0.2040, 0.1652],\\n          [0.2527, 0.2032, 0.1664],\\n          ...,\\n          [0.1245, 0.0882, 0.0799],\\n          [0.1215, 0.0895, 0.0754],\\n          [0.1210, 0.0906, 0.0778]],\\n\\n         [[0.2528, 0.2060, 0.1673],\\n          [0.2516, 0.2022, 0.1652],\\n          [0.2516, 0.2006, 0.1651],\\n          ...,\\n          [0.1275, 0.0874, 0.0843],\\n          [0.1224, 0.0874, 0.0793],\\n          [0.1186, 0.0879, 0.0761]],\\n\\n         [[0.2532, 0.2033, 0.1655],\\n          [0.2520, 0.2008, 0.1643],\\n          [0.2533, 0.2024, 0.1647],\\n          ...,\\n          [0.1327, 0.0935, 0.0896],\\n          [0.1256, 0.0894, 0.0842],\\n          [0.1186, 0.0866, 0.0791]]]])'], 'extrinsics': ['tensor([[[-0.8090,  0.0000,  0.5878,  0.0000],\\n         [ 0.3699,  0.7771,  0.5091,  0.0000],\\n         [-0.4568,  0.6293, -0.6287,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000,  0.9511,  0.0000],\\n         [ 0.5985,  0.7771, -0.1945,  0.0000],\\n         [-0.7391,  0.6293,  0.2402,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 1.0000,  0.0000,  0.0000,  0.0000],\\n         [ 0.0000,  0.7771, -0.6293,  0.0000],\\n         [ 0.0000,  0.6293,  0.7771,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000, -0.9511,  0.0000],\\n         [-0.5985,  0.7771, -0.1945,  0.0000],\\n         [ 0.7391,  0.6293,  0.2402,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[-0.8090,  0.0000, -0.5878,  0.0000],\\n         [-0.3699,  0.7771,  0.5091,  0.0000],\\n         [ 0.4568,  0.6293, -0.6287,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[-0.8090,  0.0000,  0.5878,  0.0000],\\n         [-0.3201,  0.8387, -0.4406,  0.0000],\\n         [-0.4930, -0.5446, -0.6785,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000,  0.9511,  0.0000],\\n         [-0.5180,  0.8387,  0.1683,  0.0000],\\n         [-0.7976, -0.5446,  0.2592,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 1.0000,  0.0000,  0.0000,  0.0000],\\n         [ 0.0000,  0.8387,  0.5446,  0.0000],\\n         [ 0.0000, -0.5446,  0.8387,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000, -0.9511,  0.0000],\\n         [ 0.5180,  0.8387,  0.1683,  0.0000],\\n         [ 0.7976, -0.5446,  0.2592,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[-0.8090,  0.0000, -0.5878,  0.0000],\\n         [ 0.3201,  0.8387, -0.4406,  0.0000],\\n         [ 0.4930, -0.5446, -0.6785,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[-0.8090,  0.0000,  0.5878,  0.0000],\\n         [-0.5678, -0.2588, -0.7815,  0.0000],\\n         [ 0.1521, -0.9659,  0.2094,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000,  0.9511,  0.0000],\\n         [-0.9187, -0.2588,  0.2985,  0.0000],\\n         [ 0.2462, -0.9659, -0.0800,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 1.0000,  0.0000,  0.0000,  0.0000],\\n         [ 0.0000, -0.2588,  0.9659,  0.0000],\\n         [ 0.0000, -0.9659, -0.2588,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[ 0.3090,  0.0000, -0.9511,  0.0000],\\n         [ 0.9187, -0.2588,  0.2985,  0.0000],\\n         [-0.2462, -0.9659, -0.0800,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]],\\n\\n        [[-0.8090,  0.0000, -0.5878,  0.0000],\\n         [ 0.5678, -0.2588, -0.7815,  0.0000],\\n         [-0.1521, -0.9659,  0.2094,  0.0000],\\n         [ 0.0000,  0.0000,  0.0000,  1.0000]]])'], 'intrinsics': ['tensor([[768.0000,   0.0000, 767.5000,   0.0000],\\n        [  0.0000, 768.0000, 767.5000,   0.0000],\\n        [  0.0000,   0.0000,   1.0000,   0.0000],\\n        [  0.0000,   0.0000,   0.0000,   1.0000]])']}, 'current_outputs': ['12', '8', '21', '20', '24', '16', '25', '9', '19', '7', '11', '6', '13'], 'timestamp': 1771256576909}\n    Details: Workflow: /home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/workflows/pano.json\nNode error: SharpPredictDepth", "hardware": {"os": "Linux-6.6.87.2-microsoft-standard-WSL2-x86_64-with-glibc2.39", "cpu": "Intel Xeon E3-12xx v2 (Ivy Bridge, IBRS)", "gpu": "NVIDIA RTX A4000"}}, "sharp_basic": {"src": "", "title": "sharp_basic", "status": "fail", "duration": "64.86", "log": "Capturing execution frames: sharp_basic.json\n  [Console-error] [Jobs API] Error fetching jobs: TypeError: Failed to fetch\n  [Console-error] [Jobs API] Error fetching jobs: TypeError: Failed to fetch\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-warning] WARNING: Multiple instances of Three.js being imported.\n  [Console-warning] [MaskEditor] ComfyApp.open_maskeditor is deprecated. Plugins should migrate to using the command system or direct node context menu integration.\n  [Console-error] [GaussianViewer] Init error: TypeError: Cannot read properties of null (reading 'createProgram')\n    at new lt (http://127.0.0.1:8388/extensions/ComfyUI-GeometryPack/js/gsplat-bundle.js:1252:25)\n    at new Ct (http://127.0.0.1:8388/extensions/ComfyUI-GeometryPack/js/gsplat-bundle.js:1853:7)\n    at new Mt (http://127.0.0.1:8388/extensions/ComfyUI-GeometryPack/js/gsplat-bundle.js:2029:52)\n    at initViewer (http://127.0.0.1:8388/extensions/ComfyUI-GeometryPack/viewer_gaussian.html?v=1771256604335:165:28)\n    at http://127.0.0.1:8388/extensions/ComfyUI-GeometryPack/viewer_gaussian.html?v=1771256604335:857:9\n  Validating workflow...\n  Queuing workflow for execution...\n  Execution error: {'prompt_id': 'ad33b13d-b84d-4ca4-8a9b-956d59197f55', 'node_id': '5', 'node_type': 'SharpPredict', 'executed': ['2', '1'], 'exception_message': 'Input type (float) and bias type (c10::BFloat16) should be the same\\n', 'exception_type': 'RuntimeError', 'traceback': ['  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 530, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 334, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 308, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 296, in process_inputs\\n    result = f(**inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/utils/_contextlib.py\", line 124, in decorate_context\\n    return func(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py\", line 190, in predict\\n    gaussians = self._predict_image_cached(\\n        predictor, image_np, f_px, device,\\n        extrinsics=img_extrinsics,\\n        intrinsics=img_intrinsics,\\n    )\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py\", line 284, in _predict_image_cached\\n    monodepth_output, _ = predictor.encode(image_resized_pt)\\n                          ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/predictor.py\", line 112, in encode\\n    monodepth_output = self.monodepth_model(image)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/monodepth.py\", line 197, in forward\\n    encoder_output = self.monodepth_predictor.encoder(inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/spn_encoder.py\", line 249, in forward\\n    x_pyramid_encodings, patch_intermediate_features = self.patch_encoder(x_pyramid_patches)\\n                                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/vit_encoder.py\", line 70, in forward\\n    x = self.patch_embed(input_tensor)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/timm/layers/patch_embed.py\", line 136, in forward\\n    x = self.proj(x)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 553, in forward\\n    return self._conv_forward(input, self.weight, self.bias)\\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 548, in _conv_forward\\n    return F.conv2d(\\n           ~~~~~~~~^\\n        input, weight, bias, self.stride, self.padding, self.dilation, self.groups\\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n    )\\n    ^\\n'], 'current_inputs': {'focal_length_mm': [30], 'output_prefix': ['sharp'], 'model': [\"{'model_path': '/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/models/sharp/sharp_2572gikvuh.pt', 'dtype': torch.bfloat16}\"], 'image': ['tensor([[[[0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          ...,\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000]],\\n\\n         [[0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          ...,\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000]],\\n\\n         [[0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          ...,\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000]],\\n\\n         ...,\\n\\n         [[0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          ...,\\n          [0.5137, 0.4627, 0.4275],\\n          [0.5137, 0.4627, 0.4314],\\n          [0.5137, 0.4627, 0.4275]],\\n\\n         [[0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          ...,\\n          [0.5059, 0.4667, 0.4314],\\n          [0.5059, 0.4627, 0.4392],\\n          [0.5059, 0.4667, 0.4314]],\\n\\n         [[0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          ...,\\n          [0.5059, 0.4627, 0.4392],\\n          [0.5059, 0.4627, 0.4392],\\n          [0.5059, 0.4627, 0.4392]]]])']}, 'current_outputs': ['4', '5', '2', '1'], 'timestamp': 1771256642206}\n    Status: FAILED\n    Error: Workflow execution failed: {'prompt_id': 'ad33b13d-b84d-4ca4-8a9b-956d59197f55', 'node_id': '5', 'node_type': 'SharpPredict', 'executed': ['2', '1'], 'exception_message': 'Input type (float) and bias type (c10::BFloat16) should be the same\\n', 'exception_type': 'RuntimeError', 'traceback': ['  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 530, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 334, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 308, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 296, in process_inputs\\n    result = f(**inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/utils/_contextlib.py\", line 124, in decorate_context\\n    return func(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py\", line 190, in predict\\n    gaussians = self._predict_image_cached(\\n        predictor, image_np, f_px, device,\\n        extrinsics=img_extrinsics,\\n        intrinsics=img_intrinsics,\\n    )\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py\", line 284, in _predict_image_cached\\n    monodepth_output, _ = predictor.encode(image_resized_pt)\\n                          ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/predictor.py\", line 112, in encode\\n    monodepth_output = self.monodepth_model(image)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/monodepth.py\", line 197, in forward\\n    encoder_output = self.monodepth_predictor.encoder(inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/spn_encoder.py\", line 249, in forward\\n    x_pyramid_encodings, patch_intermediate_features = self.patch_encoder(x_pyramid_patches)\\n                                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/vit_encoder.py\", line 70, in forward\\n    x = self.patch_embed(input_tensor)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/timm/layers/patch_embed.py\", line 136, in forward\\n    x = self.proj(x)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 553, in forward\\n    return self._conv_forward(input, self.weight, self.bias)\\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 548, in _conv_forward\\n    return F.conv2d(\\n           ~~~~~~~~^\\n        input, weight, bias, self.stride, self.padding, self.dilation, self.groups\\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n    )\\n    ^\\n'], 'current_inputs': {'focal_length_mm': [30], 'output_prefix': ['sharp'], 'model': [\"{'model_path': '/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/models/sharp/sharp_2572gikvuh.pt', 'dtype': torch.bfloat16}\"], 'image': ['tensor([[[[0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          ...,\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000]],\\n\\n         [[0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          ...,\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000]],\\n\\n         [[0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          [0.0039, 0.4863, 0.9608],\\n          ...,\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000],\\n          [0.0510, 0.0353, 0.0000]],\\n\\n         ...,\\n\\n         [[0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          ...,\\n          [0.5137, 0.4627, 0.4275],\\n          [0.5137, 0.4627, 0.4314],\\n          [0.5137, 0.4627, 0.4275]],\\n\\n         [[0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          ...,\\n          [0.5059, 0.4667, 0.4314],\\n          [0.5059, 0.4627, 0.4392],\\n          [0.5059, 0.4667, 0.4314]],\\n\\n         [[0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          [0.6824, 0.6157, 0.5373],\\n          ...,\\n          [0.5059, 0.4627, 0.4392],\\n          [0.5059, 0.4627, 0.4392],\\n          [0.5059, 0.4627, 0.4392]]]])']}, 'current_outputs': ['4', '5', '2', '1'], 'timestamp': 1771256642206}\n    Details: Workflow: /home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/workflows/sharp_basic.json\nNode error: SharpPredict", "hardware": {"os": "Linux-6.6.87.2-microsoft-standard-WSL2-x86_64-with-glibc2.39", "cpu": "Intel Xeon E3-12xx v2 (Ivy Bridge, IBRS)", "gpu": "NVIDIA RTX A4000"}}, "sharp_exif": {"src": "", "title": "sharp_exif", "status": "fail", "duration": "75.25", "log": "Capturing execution frames: sharp_exif.json\n  [Console-error] [Jobs API] Error fetching jobs: TypeError: Failed to fetch\n  [Console-error] [Jobs API] Error fetching jobs: TypeError: Failed to fetch\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-error] Failed to load resource: the server responded with a status of 404 (Not Found)\n  [Console-warning] WARNING: Multiple instances of Three.js being imported.\n  [Console-warning] [MaskEditor] ComfyApp.open_maskeditor is deprecated. Plugins should migrate to using the command system or direct node context menu integration.\n  [Console-error] [GaussianViewer] Init error: TypeError: Cannot read properties of null (reading 'createProgram')\n    at new lt (http://127.0.0.1:8388/extensions/ComfyUI-GeometryPack/js/gsplat-bundle.js:1252:25)\n    at new Ct (http://127.0.0.1:8388/extensions/ComfyUI-GeometryPack/js/gsplat-bundle.js:1853:7)\n    at new Mt (http://127.0.0.1:8388/extensions/ComfyUI-GeometryPack/js/gsplat-bundle.js:2029:52)\n    at initViewer (http://127.0.0.1:8388/extensions/ComfyUI-GeometryPack/viewer_gaussian.html?v=1771256663433:165:28)\n    at http://127.0.0.1:8388/extensions/ComfyUI-GeometryPack/viewer_gaussian.html?v=1771256663433:857:9\n  Validating workflow...\n  Queuing workflow for execution...\n  Execution error: {'prompt_id': 'bb225dab-3111-4581-8658-34d60d1169d9', 'node_id': '7', 'node_type': 'SharpPredict', 'executed': ['9', '2'], 'exception_message': 'Input type (float) and bias type (c10::BFloat16) should be the same\\n', 'exception_type': 'RuntimeError', 'traceback': ['  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 530, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 334, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 308, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 296, in process_inputs\\n    result = f(**inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/utils/_contextlib.py\", line 124, in decorate_context\\n    return func(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py\", line 190, in predict\\n    gaussians = self._predict_image_cached(\\n        predictor, image_np, f_px, device,\\n        extrinsics=img_extrinsics,\\n        intrinsics=img_intrinsics,\\n    )\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py\", line 284, in _predict_image_cached\\n    monodepth_output, _ = predictor.encode(image_resized_pt)\\n                          ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/predictor.py\", line 112, in encode\\n    monodepth_output = self.monodepth_model(image)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/monodepth.py\", line 197, in forward\\n    encoder_output = self.monodepth_predictor.encoder(inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/spn_encoder.py\", line 249, in forward\\n    x_pyramid_encodings, patch_intermediate_features = self.patch_encoder(x_pyramid_patches)\\n                                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/vit_encoder.py\", line 70, in forward\\n    x = self.patch_embed(input_tensor)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/timm/layers/patch_embed.py\", line 136, in forward\\n    x = self.proj(x)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 553, in forward\\n    return self._conv_forward(input, self.weight, self.bias)\\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 548, in _conv_forward\\n    return F.conv2d(\\n           ~~~~~~~~^\\n        input, weight, bias, self.stride, self.padding, self.dilation, self.groups\\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n    )\\n    ^\\n'], 'current_inputs': {'focal_length_mm': [20], 'output_prefix': ['sharp'], 'model': [\"{'model_path': '/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/models/sharp/sharp_2572gikvuh.pt', 'dtype': torch.bfloat16}\"], 'image': ['tensor([[[[0.2157, 0.1647, 0.1569],\\n          [0.2275, 0.1608, 0.1608],\\n          [0.2275, 0.1647, 0.1529],\\n          ...,\\n          [0.4471, 0.4745, 0.4863],\\n          [0.4510, 0.4745, 0.4863],\\n          [0.4431, 0.4745, 0.4745]],\\n\\n         [[0.2196, 0.1686, 0.1569],\\n          [0.2314, 0.1647, 0.1608],\\n          [0.2353, 0.1647, 0.1647],\\n          ...,\\n          [0.4549, 0.4784, 0.4706],\\n          [0.4549, 0.4706, 0.4784],\\n          [0.4431, 0.4706, 0.4667]],\\n\\n         [[0.2314, 0.1725, 0.1569],\\n          [0.2510, 0.1725, 0.1608],\\n          [0.2392, 0.1725, 0.1686],\\n          ...,\\n          [0.4588, 0.4745, 0.4627],\\n          [0.4510, 0.4745, 0.4667],\\n          [0.4471, 0.4706, 0.4627]],\\n\\n         ...,\\n\\n         [[0.1569, 0.1647, 0.1843],\\n          [0.1647, 0.1725, 0.1882],\\n          [0.1490, 0.1686, 0.1922],\\n          ...,\\n          [0.1020, 0.1137, 0.1373],\\n          [0.1137, 0.1176, 0.1412],\\n          [0.0863, 0.1176, 0.1373]],\\n\\n         [[0.1569, 0.1686, 0.1804],\\n          [0.1569, 0.1647, 0.1961],\\n          [0.1490, 0.1647, 0.1961],\\n          ...,\\n          [0.1059, 0.1216, 0.1294],\\n          [0.1176, 0.1216, 0.1333],\\n          [0.1059, 0.1137, 0.1373]],\\n\\n         [[0.1608, 0.1686, 0.1843],\\n          [0.1608, 0.1686, 0.1882],\\n          [0.1569, 0.1686, 0.1882],\\n          ...,\\n          [0.1059, 0.1176, 0.1333],\\n          [0.1137, 0.1176, 0.1333],\\n          [0.1333, 0.1176, 0.1333]]]])']}, 'current_outputs': ['8', '9', '2', '7'], 'timestamp': 1771256716279}\n    Status: FAILED\n    Error: Workflow execution failed: {'prompt_id': 'bb225dab-3111-4581-8658-34d60d1169d9', 'node_id': '7', 'node_type': 'SharpPredict', 'executed': ['9', '2'], 'exception_message': 'Input type (float) and bias type (c10::BFloat16) should be the same\\n', 'exception_type': 'RuntimeError', 'traceback': ['  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 530, in execute\\n    output_data, output_ui, has_subgraph, has_pending_tasks = await get_output_data(prompt_id, unique_id, obj, input_data_all, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 334, in get_output_data\\n    return_values = await _async_map_node_over_list(prompt_id, unique_id, obj, input_data_all, obj.FUNCTION, allow_interrupt=True, execution_block_cb=execution_block_cb, pre_execute_cb=pre_execute_cb, v3_data=v3_data)\\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 308, in _async_map_node_over_list\\n    await process_inputs(input_dict, i)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/execution.py\", line 296, in process_inputs\\n    result = f(**inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/utils/_contextlib.py\", line 124, in decorate_context\\n    return func(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py\", line 190, in predict\\n    gaussians = self._predict_image_cached(\\n        predictor, image_np, f_px, device,\\n        extrinsics=img_extrinsics,\\n        intrinsics=img_intrinsics,\\n    )\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/predict.py\", line 284, in _predict_image_cached\\n    monodepth_output, _ = predictor.encode(image_resized_pt)\\n                          ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/predictor.py\", line 112, in encode\\n    monodepth_output = self.monodepth_model(image)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/monodepth.py\", line 197, in forward\\n    encoder_output = self.monodepth_predictor.encoder(inputs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/spn_encoder.py\", line 249, in forward\\n    x_pyramid_encodings, patch_intermediate_features = self.patch_encoder(x_pyramid_patches)\\n                                                       ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/nodes/sharp/models/encoders/vit_encoder.py\", line 70, in forward\\n    x = self.patch_embed(input_tensor)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/timm/layers/patch_embed.py\", line 136, in forward\\n    x = self.proj(x)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1776, in _wrapped_call_impl\\n    return self._call_impl(*args, **kwargs)\\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/module.py\", line 1787, in _call_impl\\n    return forward_call(*args, **kwargs)\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 553, in forward\\n    return self._conv_forward(input, self.weight, self.bias)\\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n', '  File \"/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/python/lib/python3.13/site-packages/torch/nn/modules/conv.py\", line 548, in _conv_forward\\n    return F.conv2d(\\n           ~~~~~~~~^\\n        input, weight, bias, self.stride, self.padding, self.dilation, self.groups\\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n    )\\n    ^\\n'], 'current_inputs': {'focal_length_mm': [20], 'output_prefix': ['sharp'], 'model': [\"{'model_path': '/home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/models/sharp/sharp_2572gikvuh.pt', 'dtype': torch.bfloat16}\"], 'image': ['tensor([[[[0.2157, 0.1647, 0.1569],\\n          [0.2275, 0.1608, 0.1608],\\n          [0.2275, 0.1647, 0.1529],\\n          ...,\\n          [0.4471, 0.4745, 0.4863],\\n          [0.4510, 0.4745, 0.4863],\\n          [0.4431, 0.4745, 0.4745]],\\n\\n         [[0.2196, 0.1686, 0.1569],\\n          [0.2314, 0.1647, 0.1608],\\n          [0.2353, 0.1647, 0.1647],\\n          ...,\\n          [0.4549, 0.4784, 0.4706],\\n          [0.4549, 0.4706, 0.4784],\\n          [0.4431, 0.4706, 0.4667]],\\n\\n         [[0.2314, 0.1725, 0.1569],\\n          [0.2510, 0.1725, 0.1608],\\n          [0.2392, 0.1725, 0.1686],\\n          ...,\\n          [0.4588, 0.4745, 0.4627],\\n          [0.4510, 0.4745, 0.4667],\\n          [0.4471, 0.4706, 0.4627]],\\n\\n         ...,\\n\\n         [[0.1569, 0.1647, 0.1843],\\n          [0.1647, 0.1725, 0.1882],\\n          [0.1490, 0.1686, 0.1922],\\n          ...,\\n          [0.1020, 0.1137, 0.1373],\\n          [0.1137, 0.1176, 0.1412],\\n          [0.0863, 0.1176, 0.1373]],\\n\\n         [[0.1569, 0.1686, 0.1804],\\n          [0.1569, 0.1647, 0.1961],\\n          [0.1490, 0.1647, 0.1961],\\n          ...,\\n          [0.1059, 0.1216, 0.1294],\\n          [0.1176, 0.1216, 0.1333],\\n          [0.1059, 0.1137, 0.1373]],\\n\\n         [[0.1608, 0.1686, 0.1843],\\n          [0.1608, 0.1686, 0.1882],\\n          [0.1569, 0.1686, 0.1882],\\n          ...,\\n          [0.1059, 0.1176, 0.1333],\\n          [0.1137, 0.1176, 0.1333],\\n          [0.1333, 0.1176, 0.1333]]]])']}, 'current_outputs': ['8', '9', '2', '7'], 'timestamp': 1771256716279}\n    Details: Workflow: /home/administrator/github-runners/PozzettiAndrea-ComfyUI-Sharp/_work/ComfyUI-Sharp/ComfyUI-Sharp/ComfyUI/custom_nodes/ComfyUI-Sharp/workflows/sharp_exif.json\nNode error: SharpPredict", "hardware": {"os": "Linux-6.6.87.2-microsoft-standard-WSL2-x86_64-with-glibc2.39", "cpu": "Intel Xeon E3-12xx v2 (Ivy Bridge, IBRS)", "gpu": "NVIDIA RTX A4000"}}};
        const videoData = {};

        let currentWorkflow = null;
        let playInterval = null;
        let originalLogContent = '';
        let currentFrameIndex = 0;
        let currentFrames = [];
        let currentTotalTime = 0;

        function openLightboxByName(name) {
            const w = workflowData[name];
            if (w) openLightbox(w.src, w.title, w.status, w.duration, w.log, w.hardware);
        }

        function openLightbox(src, title, status, duration, logContent, hardware) {
            document.getElementById('lightbox-img').src = src;
            document.getElementById('lightbox-title').textContent = title;
            currentWorkflow = title;
            originalLogContent = logContent;

            const badge = document.getElementById('lightbox-badge');
            badge.textContent = status;
            badge.className = 'lightbox-badge ' + status;

            document.getElementById('lightbox-duration').textContent = duration + 's';
            document.getElementById('lightbox-log').textContent = logContent || '(No log available)';

            const hwEl = document.getElementById('lightbox-hardware');
            if (hardware) {
                const parts = [];
                if (hardware.os) parts.push(hardware.os);
                if (hardware.cpu) parts.push(hardware.cpu);
                if (hardware.gpu) parts.push(hardware.gpu);
                hwEl.textContent = parts.join(' | ');
            } else {
                hwEl.textContent = status === 'skipped' ? '(Did not run on this machine)' : '';
            }

            const data = videoData[title];
            const videoPlayer = document.getElementById('video-player');

            if (data && data.frames && data.frames.length > 1) {
                currentFrames = data.frames;
                currentTotalTime = data.total_time || data.frames[data.frames.length - 1].time;
                setupVideoSlider(data.frames, currentTotalTime);
                updateVideoFrameByIndex(title, data.frames.length - 1);
                videoPlayer.classList.add('active');
            } else {
                videoPlayer.classList.remove('active');
            }

            loadResourceGraph(title);

            document.getElementById('lightbox').classList.add('active');
            history.replaceState(null, '', '#' + encodeURIComponent(title));
        }

        function buildSliderRange(frames, totalTime) {
            const range = { 'min': frames[0].time };
            frames.forEach((frame, idx) => {
                if (idx > 0 && idx < frames.length - 1) {
                    const pct = (frame.time / totalTime * 100).toFixed(1) + '%';
                    range[pct] = frame.time;
                }
            });
            range['max'] = frames[frames.length - 1].time;
            return range;
        }

        function setupVideoSlider(frames, totalTime) {
            const sliderEl = document.getElementById('video-slider');

            if (sliderEl.noUiSlider) {
                sliderEl.noUiSlider.destroy();
            }

            const range = buildSliderRange(frames, totalTime);

            noUiSlider.create(sliderEl, {
                start: frames[frames.length - 1].time,
                snap: true,
                range: range,
                pips: {
                    mode: 'range',
                    density: 100
                }
            });

            sliderEl.noUiSlider.on('update', function(values) {
                const time = parseFloat(values[0]);
                const frameIdx = frames.findIndex(f => Math.abs(f.time - time) < 0.01);
                if (frameIdx >= 0 && frameIdx !== currentFrameIndex) {
                    currentFrameIndex = frameIdx;
                    showFrame(currentWorkflow, frameIdx);
                }
            });
        }

        function showFrame(workflowName, frameIndex) {
            const data = videoData[workflowName];
            if (!data || !data.frames) return;

            const frame = data.frames[frameIndex];
            const img = document.getElementById('lightbox-img');

            const isLastFrame = frameIndex === data.frames.length - 1;
            if (isLastFrame && workflowData[workflowName] && workflowData[workflowName].src) {
                img.src = workflowData[workflowName].src;
            } else {
                img.src = 'videos/' + workflowName + '/' + frame.file;
            }

            const counter = document.getElementById('video-frame-counter');
            const totalTime = data.total_time || data.frames[data.frames.length - 1].time;
            counter.textContent = frame.time.toFixed(1) + 's / ' + totalTime.toFixed(1) + 's';

            const logEl = document.getElementById('lightbox-log');
            if (frame.log) {
                logEl.textContent = frame.log;
                logEl.scrollTop = logEl.scrollHeight;
            }
        }

        function updateVideoFrameByIndex(workflowName, frameIndex) {
            currentFrameIndex = frameIndex;
            showFrame(workflowName, frameIndex);

            const sliderEl = document.getElementById('video-slider');
            if (sliderEl.noUiSlider && currentFrames[frameIndex]) {
                sliderEl.noUiSlider.set(currentFrames[frameIndex].time);
            }
        }

        function toggleVideoPlay() {
            const btn = document.getElementById('video-play-btn');
            if (playInterval) {
                clearInterval(playInterval);
                playInterval = null;
                btn.innerHTML = '&#9654; Play';
            } else {
                btn.innerHTML = '&#9632; Stop';
                playInterval = setInterval(() => {
                    if (!currentFrames.length) return;
                    currentFrameIndex = (currentFrameIndex + 1) % currentFrames.length;
                    updateVideoFrameByIndex(currentWorkflow, currentFrameIndex);
                }, 500);
            }
        }

        let resourceGraphState = null;

        async function loadResourceGraph(workflowName) {
            const graphContainer = document.getElementById('resource-graph');
            const canvas = document.getElementById('resource-canvas');
            const gpuLegend = document.getElementById('gpu-legend');

            resourceGraphState = null;

            try {
                const csvResponse = await fetch('logs/' + workflowName + '_resources.csv');

                if (!csvResponse.ok) {
                    graphContainer.classList.remove('active');
                    return;
                }

                const text = await csvResponse.text();
                const allLines = text.trim().split('\n');

                let totalRamGb = 32;
                if (allLines[0].startsWith('#')) {
                    const metaMatch = allLines[0].match(/total_ram_gb=([\d.]+)/);
                    if (metaMatch) {
                        totalRamGb = parseFloat(metaMatch[1]);
                    }
                }

                const dataLines = allLines.slice(2);

                if (dataLines.length < 2) {
                    graphContainer.classList.remove('active');
                    return;
                }

                const data = dataLines.map(line => {
                    const [t, ram, vram] = line.split(',');
                    return {
                        t: parseFloat(t),
                        ram: parseFloat(ram),
                        vram: vram ? parseFloat(vram) : null
                    };
                });

                const hasVram = data.some(d => d.vram !== null);
                gpuLegend.style.display = hasVram ? 'flex' : 'none';

                graphContainer.classList.add('active');
                await new Promise(r => setTimeout(r, 10));

                const ctx = canvas.getContext('2d');
                const dpr = window.devicePixelRatio || 1;
                const rect = canvas.getBoundingClientRect();
                canvas.width = rect.width * dpr;
                canvas.height = rect.height * dpr;
                ctx.scale(dpr, dpr);

                const w = rect.width;
                const h = rect.height;
                const padding = { top: 10, right: 40, bottom: 20, left: 45 };
                const graphW = w - padding.left - padding.right;
                const graphH = h - padding.top - padding.bottom;

                const maxRam = Math.max(...data.map(d => d.ram), 0.5);
                const maxVram = hasVram ? Math.max(...data.filter(d => d.vram !== null).map(d => d.vram), 0.5) : 1;
                const maxTime = data[data.length - 1].t;

                resourceGraphState = { data, padding, w, h, graphW, graphH, maxRam, maxVram, maxTime, hasVram, dpr };

                drawResourceGraph();
            } catch (e) {
                console.error('Resource graph error:', e);
                graphContainer.classList.remove('active');
            }
        }

        function drawResourceGraph(hoverX) {
            if (!resourceGraphState) return;
            const { data, padding, w, h, graphW, graphH, maxRam, maxVram, maxTime, hasVram, dpr } = resourceGraphState;

            const canvas = document.getElementById('resource-canvas');
            const ctx = canvas.getContext('2d');
            ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
            ctx.clearRect(0, 0, w, h);

            // Grid lines
            ctx.strokeStyle = '#1c2d44';
            ctx.lineWidth = 0.5;
            for (let i = 1; i < 4; i++) {
                const y = padding.top + (graphH * i / 4);
                ctx.beginPath();
                ctx.moveTo(padding.left, y);
                ctx.lineTo(w - padding.right, y);
                ctx.stroke();
            }

            // Axes
            ctx.strokeStyle = '#243656';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(padding.left, padding.top);
            ctx.lineTo(padding.left, h - padding.bottom);
            ctx.lineTo(w - padding.right, h - padding.bottom);
            ctx.lineTo(w - padding.right, padding.top);
            ctx.stroke();

            // Left axis: RAM
            ctx.fillStyle = '#3fb950';
            ctx.font = '9px sans-serif';
            ctx.textAlign = 'right';
            const ramMax = Math.ceil(maxRam * 10) / 10;
            ctx.fillText(ramMax.toFixed(1) + ' GB', padding.left - 3, padding.top + 4);
            ctx.fillText('0', padding.left - 3, h - padding.bottom + 4);

            // Right axis: VRAM (if present)
            if (hasVram) {
                ctx.fillStyle = '#d29922';
                ctx.textAlign = 'left';
                const vramMax = Math.ceil(maxVram * 10) / 10;
                ctx.fillText(vramMax.toFixed(1) + ' GB', w - padding.right + 3, padding.top + 4);
                ctx.fillText('0', w - padding.right + 3, h - padding.bottom + 4);
            }

            // Time labels
            ctx.fillStyle = '#4a6282';
            ctx.textAlign = 'center';
            ctx.fillText('0s', padding.left, h - padding.bottom + 12);
            ctx.fillText(maxTime.toFixed(0) + 's', w - padding.right, h - padding.bottom + 12);

            function drawLine(values, maxVal, color) {
                if (values.every(v => v === null || isNaN(v))) return;
                ctx.strokeStyle = color;
                ctx.lineWidth = 1.5;
                ctx.beginPath();
                let started = false;
                data.forEach((d, i) => {
                    const val = values[i];
                    if (val === null || isNaN(val)) return;
                    const x = padding.left + (d.t / maxTime) * graphW;
                    const y = padding.top + (1 - val / maxVal) * graphH;
                    if (!started) { ctx.moveTo(x, y); started = true; }
                    else { ctx.lineTo(x, y); }
                });
                ctx.stroke();
            }

            drawLine(data.map(d => d.ram), ramMax, '#3fb950');
            if (hasVram) {
                drawLine(data.map(d => d.vram), Math.ceil(maxVram * 10) / 10, '#d29922');
            }

            // Hover crosshair
            if (hoverX !== undefined && hoverX >= padding.left && hoverX <= w - padding.right) {
                const timeAtCursor = ((hoverX - padding.left) / graphW) * maxTime;
                let closest = data[0], closestDist = Infinity;
                for (const d of data) {
                    const dist = Math.abs(d.t - timeAtCursor);
                    if (dist < closestDist) { closestDist = dist; closest = d; }
                }

                const snapX = padding.left + (closest.t / maxTime) * graphW;

                // Vertical line
                ctx.strokeStyle = 'rgba(230,237,243,0.2)';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(snapX, padding.top);
                ctx.lineTo(snapX, h - padding.bottom);
                ctx.stroke();

                // Readout
                ctx.font = '10px sans-serif';
                ctx.textAlign = 'left';
                const readoutX = snapX + 6;
                let readoutY = padding.top + 14;

                ctx.fillStyle = '#8ba3c1';
                ctx.fillText(closest.t.toFixed(1) + 's', readoutX, readoutY);
                readoutY += 13;

                ctx.fillStyle = '#3fb950';
                ctx.fillText('RAM: ' + closest.ram.toFixed(2) + ' GB', readoutX, readoutY);
                readoutY += 13;

                if (hasVram && closest.vram !== null) {
                    ctx.fillStyle = '#d29922';
                    ctx.fillText('VRAM: ' + closest.vram.toFixed(2) + ' GB', readoutX, readoutY);
                }
            }
        }

        // Canvas hover handler
        document.getElementById('resource-canvas').addEventListener('mousemove', function(e) {
            if (!resourceGraphState) return;
            const rect = this.getBoundingClientRect();
            drawResourceGraph(e.clientX - rect.left);
        });
        document.getElementById('resource-canvas').addEventListener('mouseleave', function() {
            drawResourceGraph();
        });

        function closeLightbox() {
            if (playInterval) {
                clearInterval(playInterval);
                playInterval = null;
                document.getElementById('video-play-btn').innerHTML = '&#9654; Play';
            }
            document.getElementById('resource-graph').classList.remove('active');
            document.getElementById('lightbox').classList.remove('active');
            history.replaceState(null, '', window.location.pathname);
        }

        document.getElementById('lightbox').onclick = (e) => {
            if (e.target.id === 'lightbox') closeLightbox();
        };

        document.onkeydown = (e) => {
            if (e.key === 'Escape') closeLightbox();
        };

        function openFromHash() {
            const hash = decodeURIComponent(window.location.hash.slice(1));
            if (hash && workflowData[hash]) {
                const w = workflowData[hash];
                openLightbox(w.src, w.title, w.status, w.duration, w.log, w.hardware);
            }
        }

        window.addEventListener('hashchange', openFromHash);
        window.addEventListener('load', openFromHash);

        // Detect iframe: hide header and move meta chips into summary
        if (window !== window.top) {
            document.body.classList.add('in-iframe');
            const chips = document.querySelector('.meta-chips');
            const summary = document.querySelector('.summary');
            if (chips && summary) {
                const wrapper = document.createElement('div');
                wrapper.className = 'summary-meta';
                while (chips.firstChild) wrapper.appendChild(chips.firstChild);
                summary.insertBefore(wrapper, summary.firstChild);
            }
        }
    </script>
</body>
</html>
